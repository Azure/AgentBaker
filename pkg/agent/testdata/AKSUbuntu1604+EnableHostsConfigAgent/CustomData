[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9xZbVPbSBL+7l/R69UtkFvZlh1YEkq5FdbgqDCSSi+wXMJOCWlsqxCSI41JsoH/fjWjV7+QNdm9Ind8MupnerqffqanZf/4Q/c6jLvXXjZrtZBlYfvSdtDZ0Blj21EsB58o2lh+Cdw2HBuuijVdc7CjnSHDdeT93HKijRG+UJzh28pykFveGmMVXyhjTXd/U0ZId+RfcoOFxkix0QbAYQ5QTAdruu0o43Hl9FVu0h1zzST1alseemWRcovtGGaRn8qN9qU+VGtYP4epxvAUWWv++70ls2pc6GNDqZf3pSX7KbrcgFnegmXIcJV5sGRuFKBfVODMOL7ky8aaXSfYL6pwZuOROXpk64OGh7XcipqcHtrYcnVd00eVbdCrbWteB0XSp+4xYprRDQefGK6uyoMiVe1stGHZoF42Rk4z00GpNUN3FE1HuQfTbUQ7KNId6tq665dSxYVpGSpW0fEGUH8dZJ6OsKKqheAH0DwOasVYbj0suVRNyzhGxdNCnIbrHDMKWAp6btpvcKiYGraRdY6sJkDaCFB1G48N49Q1C1h/I0z5t2uhdXBJsuIomzVx0GsgVsV4IDWMq4I56K9USV33/kvhfejajnGGbaRYw7dYNc4UTbfzEA8LyMh0sWpp58iym1o4fLluXo3kcL+BQefaEGFz7I40fcnRQQ3S9BMDW8YZHhqW5ZoOUuXDQv726LdH93nVW8c0dngl1U1LVbRxzeOrRjtzTVVxUG0qFDO0EdPhuWZrho7toaWZDj9KFlLUy0aH6zU2YQ3ANUeWoqIGohGG6VqjQppSr6iXfWmzY2ohVilZ6hUSGWo2VmxbG+nYMgwHmxeyVHbNho13eRNZZ5rNIpWlsmWaCm9YQ8O85CBZkpqeTXN8iU3Fti8Mix+LE20kS9I+LB2xqusZhYAl6aA4hedv1Xzzur9IZUtktmNXG6sYWZZhyRLrhvmy/FzYjjI8xSPkYMU6w45xinRZKrv5KkRHzoVhnRZBupbi8ETL5r4Kt91jHTnYtNCJ9psssf7eMmxZ2M2SlIKYQpdQv/tCTElEvIzAPUy9jzewc+tRf7Yr9H6G7u+7morH2imSd/0kJUm2d6+p8m7nxd6e0P0ZvD34AvM0jCnQZDGfk3TXe9e/Au/d4GrvCMinkMLDzl7LPXZ1x8WGjXXlDMnt/P92y3qLxvVT9l+7NTQsZNj10/z/dqvo4nJ3kaXdKPG9iA8HN4tr4tOolRcot7LnQeLfkLRFPs1ZsvwAnssvpcOO1D/o9PpLBmQ7TbfxXRiEXks/11RNKSvPzhRju9/pdQatlYdSRxp0JFEq19T3g+XqTP9Ly3srrm33hBUoj1g67PRedfqi1Gp5c3rrpTcXyjiMF5+UKYnp7h58aQEAfPRCiidJir05xVHi32T8cUpo+tm/DXA4wRMvjBYpASanfejvgzenInMIggQfvYg59ZhTuL+H93x5OIF376AtSG2QZWjPkihow9XVEdAZiTmC/fGyChvnJ44h0YqfRfynnh4duDh2ErYeWq0NyVV8MFtIMlmQjnJusoiQuSz0j4CGtyRZUFkYHEE2CycUfvpp5UO+SZJCCGEMwm5GPoAEQuF07wiCpIq5cAdC9eHLrw/M03VKvJuay5JPEEIQyYfKG6ySwInwZwmgT8RfUBLA+7bw6/s2W8j2yI6WoCmhizQGqSYxysgSgqcOQk1DZZ2E/GOQxPmKP9n2YRPlOE5wRj2a/b9w/3cR2mBrSiimXnrtRVHFEvVS/DWmcjhnapFGsvCyrlBb+NJY/VAS3n6EugZ2hT4vBZH+MeEQtts21DW8fSN9ZbEOeuAv0gjESWaPQeAfkyqWv8444UL2rqOt2sIkjMjco7MG40dw50Vh4NEwibGXTjNZ2F+qwrYV2Mi+UO4Iwso2/30FlyUYbC5BGdnSGn92mwTwz0+PmLctUXVTMS9PLAyHzr07EsjdZE673h+LlHT9KFkEYhiHVGTYrMMRHDtNyRzEkw+sWKWfhzYIHMFoLqjqPaVwldOdH5FxstMoZFm352s6HEkCEENod1l43aC9UjAu3jrmN28KOpq1qaaIesCYhRGBySIjKXTvvLQbhdfdYH4zZUPSTf3Im9NuFGY0azz3PX9GuMVL/Vl4Rwrjm25A7rrxIoqg/+YnaYlkHuXOhRfSMJ7yypRjaTJhkwvw8HZay/QMmkpjSbA+sJgHHl2XmpQXnaFyBE4WdL6gcpfezlm04pRQMTd1ksWTLqZHxjGeWD5oquhYU3R8Yhm6g3RVjpM4jClJPZ+Gd3XlGcMgin4ST8Ipm95ED0RxkqQ+4Q8DMqmwRcggTkD8DGGc0WYb/QF2S0CeE+cc7oESAsIaC2z65zpH0P59990FunrdebF3v/uOoKs07bzYE9p7TO91e/I9usnP5l62Gfw3nZtCDPtbzjkrtJTzzmNzdS2sguJnGHyeVV9F2uymUOc309evjTm7urLXr+V2cy2f8UUxTsRihZgSP7m9JXGQMYU+97BWnv66RzxRMBURj+e4cXT/qqjmi3T6HO8xzyopnvSWgnp+4WynjiKnb9FAEGZMktPUC0opLN1aDNfEbLy5GEAsAMX9tYUUHpHB9hLYtvyP31bV9xLZLPk4S6J8lGvcX83M2OLVi2wDNU+7zqrbaZOndeF9Dd7aUpVLely7xLjiCr1tVtsSJ40rbKPOss8ZJbc+jXBKMuql9Gn9BrI7P/ZuSflS+q1v61UYEHjkNonFlESJF2yzoIgbhCKU76UdNLnNaDL/nyOWBf1dsxqE2bav9N8VsUXc3ye3eStgqTyN179KJiNGFHOSvh9C7kiahUmMp9VbIyUZhbawy3/bmMDOP7L38Q60hV/bcA/FzyfncA8z4gUgxiDt5d90C1K79dCq1YtipgElDuylrrvWj0Hq9WAfBj0Q8nwslP9+ZzuK49qy8K/ldZBRjy4yEKR8GJ17U5KCGMGb4s08mRZflgiSmGM7UTJtXE7LG4AYE+it0Vx87yWBnyyiAOKEwjUBHjEJ2q2NlSioDSfww9d/jqiTIXF+UqStts/RAVx/rl08HkuzGmp+JHk5Gq2aE1JHE/GbNQ5pxuaYBZ/32dRfThQfWEidjKR3oU/aa5wt3wdQZitITOaPEZrM501C17rfVm4KbOGH5/7jWzQ2kWUj46T1nwAAAP//FTwo004jAAA=

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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








- path: /opt/azure/containers/reconcilePrivateHosts.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4yT4U/bOhTFv/uvOJjoPUBy0/IeT6IQ8dAoWgWDTtX2hbHJJDfUIrWDfdOxMf73KWko6Sak9Uvt9vh37zm+3tyIq+DjG2Njsgvc6DATIhBDOVhX2UD8vC1NSbk2hZiej0aTL9PRm8uLk2ky2BNpUQUmf/r+5CKRUpgcV1eIOr9iI8FOr/RmoZkKY+96O7i+PgDPyAqA0pmDDHemhKfU2dQUhJkLHJA7v04KxqYEw38HWMc4Ppui5aKVyZr4YBh9kRuxZHcIwzWeFHllUzbO4pZY6dIE8gvyypQq926uWN+GrW08CqBeJtFWWvkCKkzPod5CviPWmWY9BPuKJOSMuRzG8eC//d7u3r+99juet7rY2MDaphSnbl5WTHGNPdKlUQvywTib7PYH+6r/jxoM/sqdn2tOmB5YbgugjhYyOpJIEsi+xEuIwPh0msgDCU86g/K6bvjcBMbh4SFkVNeRjbAO1cBYyOix1Vz9f/0kD5C5RtB4PaNvjVuGyuRQQuWDmhSZ7RfNR11U9Itqd11l8uX9RkskfuDWUwll7iE/67twPBlPm8jHk+Ms8xRCJDum6k9zXtmlh6akXP3niSv/LM1Ns8icJdHuVmeleBLi66werfqmWq/tKIwnSbT1+gCsolffV9MznqyFHwqisg507XU8LRtNnWVjq1VTJm9DuIfs8NYGEzFxGjevoFOmYwegItCyeJU5BMqgDGTcxcRZF/S7+FOk/6CBl9LyQ5lppmz9UbLrxCKfXb4aSXM/YnN0eSp+BgAA//+RqmtbgAQAAA==

- path: /etc/systemd/system/reconcile-private-hosts.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zTOMU4DMRCF4d6n8AUSn2AbBBJ0KAFRrLaYDG/ZkZyxNTOOCKdHAaV8r/m/+V0llvQIZ5Me0nQ6gJuyVOSC4LI1D8/rba/Ncje5UCBzHR6wNB9hF2Es6e3aMbmce0U6wIMspqa7laQOQ3r6Bh//znISLSfyLZfWo9DPMBRuGiQK82J3wOt/6/km2PuW5hf1oFqX9EEa+Hy4TudRQ3bDYfsg+0L8BgAA//8Sy/8V0QAAAA==


- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUz07jPBTF93kKq2LxfQsnbalQEfIChsBUVAwiRSxKFTnOJbHq2JHvTWlnmHcf9Q9oSosGhJfX53fOkWXd8Z3VNAnOAZXXNWlnxVWTgQEKvjmb6+XkRlIZzzUSiqhBHxmnpIkybaPpRhoE4wT8TCuYBLeAJD0JaZ7kAoPYzrR3tgJLF9qAiIBUlMOjbAy98kmjFCDGc00JSWpQdHqHQTwHlSy9bjyIVV4msWSRqymSPxsPkXKWpLbg8cUqxHIPV01z7RmvWTSTPjI6e03+iFZZ/V4XrlhLP7IxO/ivco0l9swKDzV7aL1NemixZ/akGDf/M26AtdmEnTAqwbJ17ArnPNM236m5Ozhhj7q1r/3GppJT4FhKD7tuQfAGxCWJC1RkGH9iFijU9awXkqpTD+Q1YFf0/w0p5yFEV8m5ctaKztFhv/eJqErOU1zYNJNqalzxUX6VWgGiLCBVDkn02p+kssYjiX77ow9jQRdluPnFYaFSKj1g2RG99vHR1zy6ot857n7N43DzdNsufG0DGcnMADJOzMrlXzEaaa9U12+ltqnAa7UDvbMY2EPANodzsEszjuBn4LdurMuBG5mBQdE6+HV1dxYP41F6/eM8ToenZ/Ew+d3aAmaiy7YHzjQV8No0hbY81369Z5Y1vAUCjNaKtQD/Yg9e0i6Gp5fJvovb+HKQjOLbVZ894/vB6Hs6Oh1cj5IgGA8skjRmEtxLS5CfLUTVGNK8QfAhSV8A/QkAAP//lvMgPnQFAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    
        
    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
    }








- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]