#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yWUW/bNhDH3/UpriqR2kUZxSmyhxju6sLKFiBIhrRFBiSZQEsnibBMqiQVJ4j93QfSimzH9uJsD8OWp4j888z73488vn0TDLkIhkznnodxLsH/KisVc5FBrDHKsShR6Sjh2ii5r3NIpYLvw0qYyvc8j5VmzNToqn/GRXXfz1CYVhsePQAAF460Emaw/YG0cqmNYGNsfwBtmDL99aXgk47v1k4YN1EqVcRKExUyHmk3rNCoh3icRDyNUsaLSiF0Dg/gCA6PgJWG2ohAOjBhhY3KXNTpFG7ccp7C9bX7Eej1wM9lkfhwe9sFk6NwCrfve26AhJeX0a8XZ4Poqn92ev799/4v4fm3eV7FsziVeDHSZXgW9r+GWyKm/AXDUCRb7Zp53rpbTREmOS8Q0kqjguCOqaDgwyApR1lgdYshVpqg4NropfGYxTm6GabinN9hPfkpSPAuEFVRwOGnvU4XErlI2ebw7opxYxGysCgskGkEmdoKgdveu0avC8QSPrrvRAr0ZpapKEMTVaV1osnE1p6j7nUO3KdVzRWRrExZmV5gxqXdLc3Q0PnUvqzM3GGpgAMXQFoaf0AHSB2uvbL7LdjNa1lKZWAQfjntn0cnlxfn38LzQU9IwYVBxWLD77BRW4eB0liKlGeWUsqA0lSqGN1ggmmjrbcMNAX6AFxow4qimX0DrSfBPCfnOUzBIAJZcwGmkCksgYbg/9G6vgpvj/fft6etawxvldp/3yZ+G/b26gNh/2JmNsXZ24OhQjZanJ7t4mbaHgwgHCj+aByG56eiLmalBHQW9hYaaxiOmsH6XDguGrjCe4wrgwk8s4VwMHyMetv9sQCrtniNLNLpzhe6ffTIYddFlJXpkY9d0DlPnS+r//xn+KrTBiphUI6y4+OL0nAp9PFxz19e6+4ySoWk9QqqMJbjMYpEW0LJ4+fZFjz+Wf1XFHMWyKIeK7Ord8QrgWmM2J7jjU8+3/gNU92XoSorla1fVv9zpFzSOwL174OzGx11Tn+HAftKiqoyUyx5QmGla1ndsmZj57ICWgvq/rUDClsw2B2BXcu/vVs17y+dy4l9EbnRpf61nJld/LyRbbDmde2s6U6bIq2D91dyb0cqV3hca2KOuJq3zbSteLLUwjZyVrs9wOFvLB6xDE+UHJ/wYnHvDMIv0cnpWdgjnVe/o+0z+qeDg0WFH2yRny5L8vgUewaUsqKQE5rIiXA710vPa/IzUIFwsP4cXvEq5d7MextenHh/BgAA///YZQoThAwAAA==


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5RSXY/SQBR97684aUZpY8eCvpGAITAxuAKGlmQ3MWmG9gqV0qkz0xVW/O+Gj102aIjbp7bna+49E87zMpxLs0SoKhvKh1pTmKrSyrwkbcJKq/vc5Kp8a5bodhHeSx0WavHILGpjSfMzrVALvOu+bjnidhgn/clAdNgHx2yNpXVqC3BeKl7JBWnwAsZKWxus6jkVZP8ngKeGuKptVdtz1mQWf5nFHeYtSWbgKd43m024L/RyfSeKe9M4iYcj0WEepUsFlx3NXeyQ1hY8QyNogH8Db2GHY2DLd27EdCw+JweDk/48tFmqn+AVbkiXVMT5moyV6wo7GMrACXBNeAF2wvBworsoFqNBEs1Go9707sk247KUxfaBfEfciv4sHk7GyWA27e1fHg/PPI95mbSEN6+MD47TF8/gsvOs7gH2fd9xPkWTcRLF0+H4Y4d5+P4DvMRXB389nEu9AKVw2VPT7hWmqp6t8oqhhnsVzw6BlwNfk6wMXHZZzzWB2Qsu9v5vfuOX2OS2rzJqg1EaYHK4TG0wVQUQWiu9B3QAsaF0UGtpc1Xuf2XB6TJEVmq7L70NtjIBomO7Ub1eS71tgxnzuwHfOfb5rB6HNrnFefl/AgAA//9gURGjygMAAA==

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySzW7bMBCE73yKhZBDe2DYv1ugQ9IoqREjDSwHOdiGQVFre2uKEsil47TpuxfyT1rHClAed+ebGQI7unfEE3GJwXhqmGqX3sQCLbL4WruS2smd5kW2psAhVTF4ZWujrSrIqeVOKsQoR78igxMxwMDac6rto34KInMr8rWr0PEVWUwVslElznS0/MLn0RgMIVsT56w5hvTjl88iW6PJW687j+kmr9BhAapuWOmf0aMytWNNDn3YW52GRQdXLUvyIBtQK+2VpeIl+X+0xtFbXaSBhGYwgpN3VR0dwzPMPTYwTl4njRN4hkcD0r4HaRE+wATOgBfoYBu7waUsyJVHNY8HZzCjpKv9zqbSS5RhoT0eu4lDTqrQkliwLiwGkAxOtx6WAndKqXktdbFCT2YP/aXeuBgYC9g9KdG1bjKgX6E/2Li6RGl1gTakycmvm/uLrJ8Np7ffL7Np//wi6+e/kwNglX6Cw0FtY4WysXFOTpbktwfY1vAOGYPaKraCcMCa2s1oDl0Xu12d/gi1+wc52Re86p9f512LQXbdy4fZYPOFjvFDb/htOjzv3Q5zIUY9F1hbOxEP2jGWF09pFS2TjAH9KWs/R/4TAAD//8iFB9zAAwAA




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";





    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
    }






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--azure-container-registry-config=/etc/kubernetes/azure.json --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.16.13


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=1638499
    net.ipv4.tcp_max_syn_backlog=1638498
    net.ipv4.neigh.default.gc_thresh1=10001
    net.ipv4.neigh.default.gc_thresh2=10002
    net.ipv4.neigh.default.gc_thresh3=10003

    # The following are sysctl configs passed from API
    net.core.rmem_default=456000
    net.core.wmem_default=89000
    net.ipv4.tcp_tw_reuse=1
    net.ipv4.ip_local_port_range=32768 60999
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
