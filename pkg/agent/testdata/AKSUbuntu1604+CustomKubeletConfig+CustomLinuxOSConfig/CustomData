[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/7x7fXPbNvL//34VOFbXJHdHPThxmvqqzNAU5bCWKJWk8nB1hwORkIyaJFQAtK3afu+/AfggUiIlefKbbzrjuMTuZx+AXewCyA//6Mxx3JlDdnNiTQaGZ1oD42u/9fqGMB7DCIEnwCEOgeqD0zcpiaWNjRLFmxO8AL//DloTB/T7oKVPbGPieBNHEoI//vgv4DcoPgEAgKltftZcwzOn/dZrvAIQsBtyDxC/6YInsKRoBdQpAa9wjDi4vvr9Omj/8e9Xb05QyNAuQKGjaoIn4CccqMEr8Aqoi96bkwU+MVx94E0Nw/Zm9qiv3HC+YuedTutxg/J8fvr2Q1dJSfWRaVjufuKfflZOTnwSL/AyoUgLIhzPGKKv3zxK/fwbuERANYDaE1qJnxHoAnUMfhZ/gNJ61AZj05o5hv2slFnC7bHnkhwH+RRxlkvRpqZj2J8N28uVuzK+eVPN/dRXOoj7ndtkjmiMOGIdH1HOOnCFGaJ3iLZv0TqVy0ni30ihjWiFhhEJQPd9t3skObmPASWEn4sfB3kkk64dbYsPa4yo4a/Vfh/djtr1xJJaLpgXTgLiftA4C/sAay05giENTPVvacvEGU8cb2abz0o1KHPThXrn4seR6AtcckUWOy9xhR9iFPMmVzQANrviEMPO7B7g2tgmU8hLLFshRFuPm3z63GRkLXKzifvIv3eu92FXZjpbFLphu+bQ1AX5kYvep3zPot8G3HLDu3dHM9TPdDPXzip+iW3ZKm6wrQGw2bZDDHtX8V7b5AS/xLLdVdxgZC1ys4n7yesNbOKRTAxx8O8H+Svyb0jjhvOsgCcwhwy9fwdUNUA+CRD4eNSeluNWd4RmwOZtJkdqSLDNkEdk5Ar2bmY7gL0/gVaw5XQcRtyXU+r8UJrg4/zQsIrq/HA89v4Q3PWDIDzGETWAzycnKGYJRfZUf/0GpNUdWzOOIp+HRgznIdLiwOGQckBX/hzHAXh6AugBc9AybNtzvjmuMdbdkee4mu16Q80cHUJRGYf8GJxCPS0JMB9kGqY7jYia2cB0B55haRcjY/CsiPKf0wRVt5wmRaDAPM6aovzHCwBXHISYcaCqOGYchiEK8t7hVYr5qrLhwRX3loh7q4QuETjtgrdd0Dvt5vJ/zHc4+eN5U3O7FMZsBSmK+adkiaZwiYopcj9NPX1iDc3LchZla7ZgbQGgFFSZc/oxukO0tFErrcfS8LMC/tEHys5mvVluVeKPQAjr3IqkHXaiqMM3yno3yRKt4BJ1kHR4sIV1HFN/R+RHkH4q2f288V1q7cAY2tplP0ALRP8dweAObyZuY3RKdZzNBe1xJgdoQeHyZRanPP1tefvsLS0T5x6uhjjcrA3nizb1HPN/hnd10W+9Rg8rCnpn3S64/hfodbvdN5JqYDpX3tA2MqpgAToBuuuwAPbAE2AoAD2xrOH9LXj1uKI45qD17vnVm5I3W49lkGeghgi0Hsvin2t8u4k1QTg0R4an24bmeqblzIZDU5fJTyI7U003ylO8gGFIfMhlu7olagw67B6uFjhEWzG9JSfPLIUHr5I5ChF3ZJGoI8oLV17NLoyR4b60z7pNAbdbrS00kY5fACNrH4lDVihmLARLFFMGgUoSDloHVAWn3XcfKtwU/QXUGN0D9eGs+zNQA7hm4Ke33S5Qb9H6MGCt2MImoLJk/idQOrrVz2o4SxsbW8cKVx/Yjq+P7sKburcmoNq25iDxTjm4h2P7bGR2MTL1FxyN7Ja3jWC11e1h6n0HIzssqTn/m9mG96szsRqMgH8nFLX/ZCTe1r3KWX+W00Czq+cOYVPlXTM/zcXRgemvqeYLLx1VzNdOQ5qlDfuzqRtCsqWbU22Ul32OoduG2289HqDodK6vO9fX19fP/9/wFIGnpHg+5OCXX4AxGWZG7UxAGraKH5IkUM6BoomFME3mIfZ1+e0/KQFHMYy5KWlaj65haZbrmYPnfJwlc+ZTvOKYxDmVM7twdNucuubEKtNCGOgy7gvCJqPqmNJTzAOMqTcKZooYSaiPLilJVimrbTiTma0b3qU9mU0LSrkzYRKnRKOJrgnti+G7yF2vUDr4eey536ZG2QUx4haMUGG+VdKBIT+hmK+lDhsqy3C/TOwrofHMNt1vW/rcVSA/m7Y700ZexlShsndt3CL3GmymJOHIFQXbRpI9mbmG54q6raBbURxButbuIA7hHIeYr52ydlPbHGv2N0/7rJkj7cIcCXOckgsyAMeHIarldHRtZFRY5MKcUnKHA0QvoH9LFosxCTI+fTSZDab25LM5MGzvQtOvJsOhN54MjL0Ayjlo4H3ew2UjTjFizcyebbi2aTj7QIyHFYlRzPegGF+nE8uw3H0wg4Tmy7QJZjCz07W7B+ZXzDmie0B+NV3XsGshbMjRCEe4zhRbc42ROTbrbSg4f5s6+5i936b1viwALhL/Fu1VwLuY6VfGYT2+UMzRIWW8L7bpGseodBgu1auKmDA0hjFcosAMUMwxXxsPHMUsn+iZY3hjzdIujYFnDgzLFQFmfHUNyylNdMIQ1RjDy3iDYw7SgJk5hu1pjmNeWmWMUp5NGDJFRxz7aIw4DCCHhWzTclzN0g1vbLjaQHO15yJrwuAChoKJOrdJnjy1gXehjQSH7TlXs0JGgJnINpOEz0kSB46luVJGlWNgOiL9eJOZezGZWQNP0OUS0YMfJgEaQ8YRHVISORzGAaTB6EJCGV/10Wwg3OW4hu0N7cnYE8oPNHvgjS6ei4yUTt9nmISlfHQ1drxizj5rs5GbFb4ZWwQfcJREo5LZdhIinSRZZI+1r+Z4NvaERYVB9ky0L5PZJrRz8VdonQu//cCU3dHPiGarQBHFtzEZFpWT+lDtjfflRNAHyt1pTbMsWkUVA6WzL2d1AgU0F47HYaUZ5wik/LagucHbrh3zMjBrtber3QAtxCTnDVmKW1fyNuHUVusHiRtbjyaOrZJtD3lWu93iWNZRmYP0zGHp/pBXTytcWkKZC9qZD24/sDYmnbveHHHYK+oVDjn2pySYQn4juLYnLIIxXiDGi/UKg4AiJjZIpduW/23qLxhM4nA9JVTER697enaWF5YhE5M5xCGqE9LURG+4pxTfQY6u0PolGKLjLGmAVzeIOgnmcn//vVjLijtyPEMffDLET0fzvpjuJ08zHK93+sG71Mee80k7PXufYW2x2C9lKMnQP2n6J+20600no2+9t92zI0Scnr3PRbz98O4Aw5ECtszeL+IF2uzzjaT8o6hOOeRIrBG8wD5MZ4jTBOWrLhGZjOOibn/cCHo46/5c+ZJt3KKP0LX968WHm1Ze/HkuGXCP5jeE3O5CZ+eemYa1vDAm8ToiiTDjMW3TnkumEIr/rrEkymreL5nkemWqcOgOxdxGPqFBWml1i8olEdvmgEQQy4SQfWiL7idUtqgspxoSvTS4e93qPDFOEYxwvNRJHCM/bQRD5OIIkUT2a+9uulG3yBYxCZDDIU/YbBVAjoYU/ZWg2F8L0t6GDkdwiS71T3h5495QxG5IGEwR9dMi+udulWxE7muofiosX4ruiE0R/W3iVNeRv0rS4otOSYhTNdIcWCQKsiIhWa53yOaIcRUtFmSTmCL4MCWBmONeLxe+IsEUBywvmtVeqTsN70TeLlZj+im9Bdjopw+d3xIiC7IFDBnaHZkiioncDU673ajwIbrDckI+QRpsrSsUEbpuw7SnS+Php7PuGJdXmJiqBasS9br/rCHB4m82pEjSnP1TqSzIFSUc+fxKnqQP0v14K5oXCPKEossszkuaip2IYiJa6AqLHLRlktgpEbKMsUu/5cI0WeTfKjovIA6de7iaxFVF0wspG8n9ZMup/kqWwKdlB6WOlp67xFW3iNSzF6jX7UYNWO/ffhhvwaF4QaiPLBIgLT1pz+asFMMrsTYr4QvDkNyjYBYzuEDOmvk83NoK0wuQdsSW/6rMPOJtvLp715bHCO0Ix94q4kmGvluslo+Odcssjo7lD4o4XftR4OGFJzyfUCSv2c7A6RmISLCiZI7AnHox4gscckSr1wTjiSh9L4zNDaY8/VNjoJSZ5EWQiLOIBEmImCoamHbQKdPI4KuWoLplmlN5UMJSlbdsyQcLm4qiPD+BmY5ml6aVFuKy4K2pxaM70NIt07swLW9g2p1eV01rYyFKXlrK4awgFBQFa1qbvu92d0h2QAqeXR0nI1P/ll7EKj4MsU9qtCzq/Ffsh2x3UuYUB0ukFP9fuihTfli+eoFSKNyvliKmvWkwJrH0K/jxxy2MvAvqg4pu/9fWZRdh4k+HzXHcQXMZowyoHMSQA1Ut6OU9YXaBrpOYQxyLZjPmOEI760yfWK5mWrLXtFxzbKS2BsS/FYt+9x5Pwg7k8ElJMyEyF5qOFqIGE/1KtPPZyavx1dDza3ZzZPTzK2yOoiD7u5OKb4sEh33UDjroAfke45DyTZDdQ8y9BaGevPvrnXa7oAda+6VVY1/eDn7RXP2TJ0yfzFwJnDBERVSo8BKkmoDyE9myUWPRm3vDkXbpZI8IBi+wyg8RpF5Ekph7K0pWcCnrOG8RwiXbGLp55/yPA++cD7qlSd+j/JJNdQYl+8qNralxnQCiiMSlppxQgAGOQes1Q3+BnlTozX9BQCrpBKis0LEABrsxBsCff4FX7VfglxryH38Ec4rgbV3USCEtDFShhPBJHfZBD6SJhqEKFwsRWoHettSAxCld00OUbGlVPJ+v3uqbmuqKs0x3YhezJ9SzD605NSIx5oS2RQ6gh6OnWchRC6UB5VglswB5uZpHK7h/SqreOu690ib7ZSXlzgX3wBjKY8FSyFTPl/bYW4dxlKGCMdtgUrl3kHZCPM9lyr/TguSA+BLK0ZKFytm2km9z6fVepgxZ8fQQr+Pn+1Rx6tJmN0c4pBn9u9ZBpkMVo3jzUBOcxR6YroERnKNQlNObwm6kXRgjz5oMDOcIJ4QCQJWt0X5HNMAeZX2F91CMVjQ6GKBN0N81KyUVXvKI8FeS0BiGxUxsuqX0nt/hhMIl6q8QZZhxUZxtU0iFxvBhxlC/d7k9nNVWjeNDQu8hDVzirFlIlv01yjqpZ/Ax6ypyZ/+Z6hpsNv8mZ2Qcas7xEo9cfWCiMKQknIYwrhSFLdu4mExc2/htZtrGQKCKMtGaFJcqshMRba2ys4dSxBMal2uFvd1ZmlfcETj9KB+hxUkYguwMScXxgmzF3wdHxLtlWpfFchHtFEVZIz/OjpcHmFay71izzKHhuAPT7jceSUvq6DbAFKirVLUSnxB0T3EqJz0vr4hI848UcEMi1GkV5WKnLaRtEcooa1UYO6UsXFWjIJFj6aVDq4qVNp3y5mAj+Xzzax3QkeQleFET/yQ6xTqwoo2sYd15rnOiqurJ5obhHNz1TrKJZ+cnar4IzlPszbGMmp138rUaQA7PwbXS0rXyC+drJZNI7xA9r2xd6eOcEwBiGCHJml/1/TawrhXRl3P0wFMF0t8zBTJtdllA1i1sD6kwiHAsCZqEJVS0gWouaJfiFsfBOUjX2okQIhWrgytJk8pkSmOJX3Je4bKSU3ZdlzHeonUtw5Xx7Vo5UcDHxpkun9joqeu0hBPmwxBRLQhIXISOPppJK7SZO5EvOWxPGwwqfUX5vk/wsk6eIWABqgZoFZJ1hGLeXsMo3LMx7ZV43O6UXVayp19SV5mDj0+t13Jht/a8Syqejb15WioHFKkX5CD/CEnpQ6bvkcaSecWm6qOs70HO3oSVwIt3Yd8DS5cbwOqLpRehFqtW083sSoJsLVhNlwc2lqGLvkO3DfkeQhs5/dZr+Vp6AZTH6+y+yAyuFRE+/2TXyn9A/jV9jVYdyd/KVb9WX8hVx6DP8R0aYCqVXBtxsCI45jMapnT5vyMOyRLH7Qj7lDCy4CQOcYzaPomulf9cF6/csvuJRpRIjsv4yg+ook6tIpcUrm7yh2W50jnMUgy273EckHvWjhHPMNhf4biQcIwSPqGojHP+4d27txnYEoYh2uORbHzHkOi7NOhcK88KUPYlgL3DadQKkiIiJH019spvT+9B9031YXj+tPsWrQFl8Pxd9+f32VvvtGguP/l++/4sffJNEr7zsiJ7oexjsT+lcSBI2ysUpQ/Aj2EQ31KO/E14f+Z0HLeva51R/w5TnsAw70MnOx9m2190a+uLUhOSV8a3fut15qMXmXWf/QuJrRA3bPdlgBuz7/MJqkIe3uGqgMdvbk1yXryvURSwj0+txmwnk2mTtN3sbMEIfXzaSs0vwhBO3VXIsN0Xodyi9Q7IlfFtP8ZmV5APneUV7tamIN9IpxcKx8yuwFFXEqh2csu+KzLpx6dOeT9gne3c0Kk8WWadWnfXayoPsH4wJsOT/xcAAP//hSjZFJhDAAA=







- path: /usr/local/bin/configure_azure0.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SU0W/bNhDG3/lXfJGFqsVmyR720CQQBsF2N6ONEsTZiiFwDVqiLM4KqZJUPNf2/z5QchS5W7ZhexN0d9/9+N2RvbOg0ipYchEw8Ygl1TkhPUyNpyFFsYVgCdOaqi2MRCJFxleVYqBfKsUG4AI/LythKgzf+oPvSaGXC8UKRjVDn2MPulmj/8678ODtSsWFgfvdwWv+ezt3GLrDSxwDw4OHPVaKleh/5nA+VbW06xCe4R7uDzgLMcD8EiZnggAAS3IJb2rANYQ0TzCzNS9bWC5WR1yvqfmdGwxIxskprvo/uHA+1Q78B9i6zv/XzD2McpaswTOr3GQhEfxYa8VNzhTzfR9CQjCW2tGpSsDkXEMnipfGlgtpSA9RoSVSKTyDDRXmJHeTM1GjVrol6ieCk3ucoZ8hYCYJEsEDwYyfBsNBv07xLUrBtcEcr149wVvyeArD6AMemDBcCotKTdPraIrlZSkyqZDQgif2BGYj1RqlLHiy/YuzkNpYJz7Ju4C7iyd3H69v3y9urj9MR78emtHcw/lzBGEIp+nnYH4ytL93foCl4umKWXxaKEbT7fMtSUkPH9nR3O4geAYtfcJLFFysoXO5eZLr+KUqsSiLasXF6zfYHWlKqYz1cTG6vrqK4nHoDutIQs0/j2OP3z7D8wV9YKAabv2xh58I/gtTmktR/348fu/hN/31/fybEDubftFUfYvnmou24tAtGczt/QhkaWom+8Q0C/QomCEHQjqHiW5/nIXe+7ezxc31eBFHV5PZTTSahCnLaFWYy24kbP2NrNwonnrkxJf4LprGk9vpODw/Pz/vxuLJXTwLA1UJa5HQQStFv9i17qRO39W9mMm/FrmJ7n4Ku8cidpC1Hmiawn29pJrV1rq7tuvhTWeeiMZj0j4U/ZX56qVo9VJWwHlJ0Hle0GG9oJ0G48kHcqLyItUfAQAA//+8Xj4iAgYAAA==

- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/tXjCwO3+9hWfrjhnyAYmhERBEO4hCiaL2eJFPWa2t3NoSW/u+V44Q2iZHq48z7vPesnfG9I56ICwzGU8NUu/Q6FmiRxZfaldRObjUvshUFDqmKwStbG21VQU49baRCjHP0SzI4EXcYWHtOtX3WL0Fkbkm+dhU6viSLqUI2qsSZjpbf+DwagyFkK+KcNceQfvj8SWQrNHnrdesxXecVOixA1Q0r/SN6VKZ2rMmhD1ur47Do4aqnkjzIBtRSe2WpeEv+F61x9F4XaSChGYzh6L+qjo7hFeYeG3hM9pMeE3iFZwPS/g/SIpzABE6BF+igi13jUhbkyoOah4NTmFHS135jU+knlGGhPR66iV1OqtCSWLAuLAaQDE63HpYC90qp2Ze6WKEns4X2EvauxtRuRvPocbp+xZP2zf4A79wYPArYfFKia/NlQL9Ev7NxdYnS6gJtSJOjn9f359kwG01vvl1k0+HZeTbMfyU7wDL9CLuD2sYKZWPjnJwsyXcn29bwDhmD6hSdIOyw3Z9B3413q+PvoXZ/IUfbgpfDs6u8b3GXXQ3yUXa3/oWe8cNg9HU6OhvcjHIhxgMXWFs7EQ/aMZbnL2kVLZOMAf0xaz9H/h0AAP//dUjVXvIDAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
    }








- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--azure-container-registry-config=/etc/kubernetes/azure.json --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --dynamic-config-dir=/var/lib/kubelet 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.16.13


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/99-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue: */}}
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731 */}}
    net.ipv4.tcp_retries2=8
    net.ipv4.tcp_max_syn_backlog=16384
    net.core.somaxconn=16384
    net.core.message_burst=80
    net.core.message_cost=40
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384
    

    # The following are sysctl configs passed from API
    net.core.somaxconn=1638499
    net.ipv4.tcp_tw_reuse=1
    net.ipv4.ip_local_port_range=32768 60999
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]