#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yWUW/bNhDH3/UpriqR2kUZxSmyhxju6sLKFiBIhrRFBiSZQEsnibBMqiQVJ4j93QfSimzH9uJsD8OWp4j888z73488vn0TDLkIhkznnodxLsH/KisVc5FBrDHKsShR6Sjh2ii5r3NIpYLvw0qYyvc8j5VmzNToqn/GRXXfz1CYVhsePQAAF460Emaw/YG0cqmNYGNsfwBtmDL99aXgk47v1k4YN1EqVcRKExUyHmk3rNCoh3icRDyNUsaLSiF0Dg/gCA6PgJWG2ohAOjBhhY3KXNTpFG7ccp7C9bX7Eej1wM9lkfhwe9sFk6NwCrfve26AhJeX0a8XZ4Poqn92ev799/4v4fm3eV7FsziVeDHSZXgW9r+GWyKm/AXDUCRb7Zp53rpbTREmOS8Q0kqjguCOqaDgwyApR1lgdYshVpqg4NropfGYxTm6GabinN9hPfkpSPAuEFVRwOGnvU4XErlI2ebw7opxYxGysCgskGkEmdoKgdveu0avC8QSPrrvRAr0ZpapKEMTVaV1osnE1p6j7nUO3KdVzRWRrExZmV5gxqXdLc3Q0PnUvqzM3GGpgAMXQFoaf0AHSB2uvbL7LdjNa1lKZWAQfjntn0cnlxfn38LzQU9IwYVBxWLD77BRW4eB0liKlGeWUsqA0lSqGN1ggmmjrbcMNAX6AFxow4qimX0DrSfBPCfnOUzBIAJZcwGmkCksgYbg/9G6vgpvj/fft6etawxvldp/3yZ+G/b26gNh/2JmNsXZ24OhQjZanJ7t4mbaHgwgHCj+aByG56eiLmalBHQW9hYaaxiOmsH6XDguGrjCe4wrgwk8s4VwMHyMetv9sQCrtniNLNLpzhe6ffTIYddFlJXpkY9d0DlPnS+r//xn+KrTBiphUI6y4+OL0nAp9PFxz19e6+4ySoWk9QqqMJbjMYpEW0LJ4+fZFjz+Wf1XFHMWyKIeK7Ord8QrgWmM2J7jjU8+3/gNU92XoSorla1fVv9zpFzSOwL174OzGx11Tn+HAftKiqoyUyx5QmGla1ndsmZj57ICWgvq/rUDClsw2B2BXcu/vVs17y+dy4l9EbnRpf61nJld/LyRbbDmde2s6U6bIq2D91dyb0cqV3hca2KOuJq3zbSteLLUwjZyVrs9wOFvLB6xDE+UHJ/wYnHvDMIv0cnpWdgjnVe/o+0z+qeDg0WFH2yRny5L8vgUewaUsqKQE5rIiXA710vPa/IzUIFwsP4cXvEq5d7MextenHh/BgAA///YZQoThAwAAA==


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySTW/bPBCE7/wVCyGH9z0w7Nct0CFplNSIkQaWgxxsw6Cotb0wRQnk0nHa9L8X8kddxwpQHofzzMxhR4+OeCKuMRhPDVPt0rtYoEUWX2tXUqs8aF5kawocUhWDV7Y22qqCnFrurEKMcvQrMjgRAwysPafaPuuXIDK3Il+7Ch3fkMVUIRtV4kxHy3/4ThMeRJFHYzCEbE2cs+YY0o9fPotsjSZvyx48pptBhQ4LUHXDSv+IHpWpHWty6MO+6zwsOrhqWZIH2YBaaa8sFYdp/+A1jt7bIg0kNIMRnP1X1dExvMLcYwPj5G3TOIFXeDYg7f8gLcIHmMAF8AIdbGs3uJQFufJk5qlwATNKutbvYiq9RBkW2uNpmjjmpAotiQXrwmIAyeB0m2EpcKeVmrdWFyv0ZPbQgXrnpGAsYPekRNemyYB+hf7ox9UlSqsLtCFNzn7ePV5l/Ww4vf9+nU37l1dZP/+VHAGr9BMcC7WNFcrGxjk5WZLfHl87wztkDGrr2BrCX+zZvu2mf3mbd30MsttePswGmz0d8lNv+G06vOzdD3MhRj0XWFs7EU/aMZZXL2kVLZOMAf05az9H/h0AAP//iAv5da4DAAA=

#Question, need conditions?
- path: /etc/systemd/system/mig-enable.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/xzMvW4CMQwA4N1PYanz9eABMlA1RQz9USnqcLrBBHO1lDjIcRC8fdXOn/RNBxWf4ZlbMrm4VA1R6ZgZX3dbTFXPsnSjP8Cq+HaVkxBu1qsVbj8OANOe7SqJZ/i6XzhU5fZTHT65kOjm7GzxJh7cOkO8cdo7mYexNxuPoqP+f0MrgkORBdcA006bU84zfJM6n57uofTsMvTG9uhkCzs8xPeX3wAAAP//KVzt1LsAAAA=

- path: /etc/systemd/system/mig-partition.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zyPzWrrQAxG93qKAa+dSR5gFrncNGTRNuSHLkIWiqPYAlszaDQh7tMXu9Cd+DgHji5nYbvCf8qNcjKOEtYp9aN7321dE+XBbVGcdhfFfTz5zujWq+XSbfdnWD+MNAzc1iR462mRSZ/cEMDl+HtdoXKnMVGIQrmLBpU70IAss7p5sYWRMhwoG6qFKPUDuS9KANXmRc1xmvdKwZes/sbiZW6o88CuHrh1K/jjwgzcMHfOx2Qev4uSb6IYspBmP5UmVOPpoUXuHFQnHigWm/0jNWEJcNlJNuz7K3yhGN3/jWEovXFdMunCUFsyqDafbz8BAAD//4jfSRM9AQAA

- path: /opt/azure/containers/mig-partition.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5yPQUvDQBCF7/MrnkmPDTVakQolFzUErCmiJxHZJJNkINktyVqU0v8uycWCpg3CO+1bvu+NezZLRM8S1ZZELmuVVIxVFKI2GQdBQK7eSibKa2uBV0sBn8h9jm/jG3y0jFoKb6MayxkqSRrVfMEaZAa2ZHSFWDEaKrfc4LFHIZdPiAWtovB9/RTfRw93y8nO35PkeMVkd/C+xxJO5/ALB28gW7ImADhY1Y3y0kLgL6a/8vfnVEDE1RHfxY8Pw8L5tM+Q5ITjcoxjMR284QR+PgZ/9U/49Rj4+TF4y33LaWngaGOxVZVkCNcvEN1apVPGpjG5VOxQLt8BAAD//0zxvmypAgAA




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";

- path: /etc/apt/apt.conf.d/95proxy
  permissions: "0644"
  owner: root
  content: |
    Acquire::http::proxy "http://myproxy.server.com:8080/";
    Acquire::https::proxy "https://myproxy.server.com:8080/";

- path: /etc/systemd/system.conf.d/proxy.conf
  permissions: "0644"
  owner: root
  content: |
    [Manager]
    DefaultEnvironment="HTTP_PROXY=http://myproxy.server.com:8080/"
    DefaultEnvironment="http_proxy=http://myproxy.server.com:8080/"
    DefaultEnvironment="HTTPS_PROXY=https://myproxy.server.com:8080/"
    DefaultEnvironment="https_proxy=https://myproxy.server.com:8080/"
    DefaultEnvironment="NO_PROXY=localhost,127.0.0.1"
    DefaultEnvironment="no_proxy=localhost,127.0.0.1"
- path: /usr/local/share/ca-certificates/proxyCA.pem
  permissions: "0644"
  owner: root
  content: |
    -----BEGIN CERTIFICATE-----
    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
    -----END CERTIFICATE-----





    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
    }






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
