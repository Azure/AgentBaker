#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/aSBDH3/1XTF2LQqWNS6q8gKjKKe61EiIn0ionJTlrscf2CrPr7o8kVcn/ftrFNRDwldw9nO78hHe/O5r5zocdv3wRzhkP51QVnodJIcC/FEYmjOeQKIwLLCuUKk6Z0lKcqAIyIeHL3HBtfM/zaKWXVC6uxhPGzcM4R667PfjuAQDcU6bjTMiYVjouRbJQblmilt+SZRqzLM4oK41E6J++gTM4PQNaaWIDQtCHe1raoNQGhdUKbtxxlsH1NfhB34fRCPxClKkPt7dD0AVyp7APPjANQTSbxR8vJufx1Xjyafrl9/Gv0fSz02D5JI7hP400iybR+DJqiZgx79Hz9mve2FGwEiEzCiWEd1SGJZuHabXIQ6vbLNFKhyVTWm2tJzQp0O1QmRTsDuvNd2GKdyE3ZQmn7zr9IaRik7jt5qsryrRtpm2bxBKpQhCZ9Rlceq8avSoRK3jr3lPB0Xu03Y1z1LGpUqqxqcR2kKEa9d+4V6taK2JhdGX0KNTLymZLctRkvXUijF77JCQwYByCrsKv0IegDtfbyb4FnnVHKiE1nEe/fBpP4w+zi+nnaHo+4oIzrlHSRLM7bNTWYSAkETxjuWWNUCAkEzJBt5hi1mjrlIFkQL4B40rTsmx2X0D3h2Bdk/McVqARIdhzAVaQS6yAROD/0b2+im4HJ697q+41RrdSnrzuBX4POp0aa/skVB+K0+nAXCJdbP4D7eJm2+INAQOCXxuH4SnbdTON5NDf2FsqrGE4axYztuGigSt6wMRoTOGJLQEDzZao2m6BDVi1xXtkBf3h+qDLYxScDl1EYfQoeDsEVbDM+bL74z/DV102EAHn1SIfDC4qzQRXg8HI3z7rbiRCuCD1CSIxEcsl8lRZQoPv7x9b8Phn/d9RrFkINv3Y2d29I54JTGNEe403fvD+xm+YGv4cqsrIfP+y+p8j5Yo+Eqh/H5zj6Khr+jsM2O+V2FS5pOkPFHamltVtaw5OLisgtaCeX0eg0ILB8Qgc2/72adV8RalC3NvvGre6Nb+2K7OHnw6yA9Y8b5w10+lQpH3w/kruHUnlDo97Q8wRV/N2mLYdT7ZG2EHOXn6MJr9Fs8vo4oP3ZwAAAP//G8rI3kQLAAA=


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SSX4vTQBTF3/MpDmG0CXaM1bdCK0s6SAVbaVLYByFMJ9c2GjNx/ixV1+8u6fYf7lpqniacO7/DnHOTVdUkK2k3SHTrEvnTG0qUbpysGjI2aY2+q2ylm5d2g/EYyZ00Sa3Xh8naW0eGn8Zqvcbr8fNBIG6neZHOJ2LE3gb2h3X0TbkanDeat3JNBryGddJ5i69+RTW5awy4ssS1d613J6/5Mv+4zEcsUtL9N+EeG5IleIM3r+Igy28WeZFPP4gRi0htNEL2gA9xD+UdeIlevwf+GXxwvDyIgzQThbgV6TKfzmfFZLm46Q4HCosiFpXSEV48szE49n+8RMhOpuFOjuM4ePBOM4FcO1lDbEl5V+kGE29kdxiypy0BS0o3pQ2vCpQOYF7uwfa8xb/p2bUx/4MbB8H7bD4rsnwxnb0bsQhfvnfhfwrw6ONcmjVIIWTHdQovTOr2rK0LQIPwol7uDB+9/Ok7vV9iW7lUlzQEI9XHfLdbQzDd9iGM0aYTTB9pJo4tHkq0nVb+7mHfODsLJ6Bt5XB6+p8AAAD//9CDYZutAwAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";









- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".cni]
        bin_dir = "/opt/cni/bin"
        conf_dir = "/etc/cni/net.d"
        conf_template = "/etc/containerd/kubenet_template.conf"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
