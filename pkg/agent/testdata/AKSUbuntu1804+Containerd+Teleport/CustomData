#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9xZbXObSBL+rl/RS9i1lF0kIdleJy58i8VYoSwDBciOz/FSGEYyZQwKDE6ysf/71QyverHXSbYuuUu+yNPP9PQ8/UxPAy9+6l0FUe/KTa9bLWSajnVu2ehkZE8cy5ZN2zmS1Ym0Dcw2muhTxVE11XZs9QTpU1vayS1H6gQ5Z7I9elNZdnPLG32iOGfyRNWmb+Ux0mzp99xgogmSLbQBsJcDZMN2VM2y5cmkcvoqN2m2sWYS+7UtD72yiLnFsnWj2J/CjNa5NlJq2CCHKfroGJlr/gf9JbOin2kTXa6nD8Ql+zE634BZXoLukOIq83DJ3EjAoMjAiX54zqZNVKve4KDIwonljI3xI0vvNjys7a3IyUjXbFnVkKmsQ4qsHO9ZjjnVNFUbV7Zhv7atLTwseDmeHiIqK023nSN9qinSsGBDPRlvmDasp02Q3SRjuL2cqJOxY0wboQ531nYzsjfhdtdxpkpjXIeWBGnqeqjbYkW/YeqKo6DDDaDBOsg4HjuyohRnbAjNE1hnILfulelTDFM/RMVocR70qX1IKaVb0XLTTiMnsqE6FjJPkdkEiBsBimY5E10/nhoFbLARJv97aqJ1cJk02ZY3y3C330Cs6n9XbBhXBbg7WMvWmvffC++jqWXrJ46FZHP0xlH0E1nVrDzEvQIyNqaOYqqnyLSa2trbXjevRrK308CgU3WEHGMyHavakqPdGqRqR7pj6ifOSDfNqWEjRdorBGWN3z66zqv+OqaxwiuxrpOKrE5qHl81KujUUGQb1aZCMSMLUR2eqpaqa441MlXDZkfTRLJy3iiq/cYitOZMjbEpK6iBaIRhTM1xIU2xX+TLOrfokTIRzZQk9guJjFTLkS1LHWuOqeu2Y5xJYlmoGzZ2sRjIPFEtGqkkllXakNnhH+nGOQNJotj0bBiTc8eQLetMN9mxOFLHkijuwNIRqwqtXghYFMuakBeCNYWJ4u9LAN1ApmxTDpFp6qYkigX3tOKsG18VZ/z0jZJvra6GYlnjqe1wqk6UchYt7/m0/NRZtjw6dsbIdmTzxLH1Y6RJYnk9rUI0ZJ/p5nFBwTSPRxLL22oVbk0PNWQ7homO1LeSSC+snLEz2XBGJpIL8YllzW8YVM2aHh2pIxVpTCzHjmXIIySJ9ApgYBtNkKGbduPoItOUxLJY1fbyLORmOl+3JL6dxgkBIYEeJl7vpZDgELsphnuYux9uYOvWJd51m+//Br0/26riTNRjJLW9OMFx2rlXFandfdnp8L3fwO3AZ1gkQUSAxNligZO2ezG4BPdieNnZB/wxIPCw1WlND6eaPXV0y9HkEyRx+d9cy3yDJvUo/YtrjXQT6VY9mv/NtYqbT+pladILY88NWc91k11hj4StXIS5lY77sXeDkxb+uKCbZUXmVNre6Xd3xG5/d2kcWXbTa3QX+IHb0k5VRZVLcdOyQVM+6Pa7w9bKoNgVh11REMs5VXGldzzV/NL0/oprlu63Uh6wuNftv+oOBLHVSrLIcSPfCeO5gz9iLyNBHDkkuMXtDnxuAcyyyJN4sQWQEjchzCTxbd8lGH79Oe20APCdGwJPgfSPyN+I8a5j4BjoNd9u8yUMBOBrx50OpNiLIz/l4OAAencu5Wvec//KEtzzwiwlOBEWSXwXpEEcCVXEgp8lLv2RdsN4DjA4+EVsPbRa7oLcusnNmTwJouyjPMcRKfYF8MENiDOLE8ddECeMvZuUDSeYJJ+8W98JZs7MDcIswUCP7A4MdsBdEIE6BF6ED25InbrUKdzfwzs2PZjBxQVwvMiBJAF3HYc+B5eX+0CuccQQ9B8TLb+x6WYYHK74yaK/9fRol86ws4DysWFzFR/UFuBU4sX9nJs0xHgh8YN9oLmJMyLxw31Ir4MZgV9+WfmRLxInEEAQAd9O8XsQgS+cdvbBj6uYC3fAVz8+//FAPV0l2L2puSz5BD4AAb+vvMEqCYwIqjDEBIF9eMfxf7zj6ES6Rrq/BE0wyZIIxJrEMMVLCLZ14GsaKussYD/9OMpn/M2yD5sod6LYSYlL0v8X7v8pQhtszTFxiJtcuWFYsUTcxHmKqRzOmMqSUOK36wxx/OfG7IeScO4R6hrYFfrcBATy14xB6GrPoa7h7SvpK5O12wcvS0IQZqk1AZ79jKtYvo1x6tiZBWFdEdjIM6VJJy5cci3x2wX7O0vsN339Lf1N8DL/FxcgzIAvV4PLyyoBm7lvuvpG8qsjsykFZURflYPqKlqi/wnma7aHDLpw77Av9eIFqe7KOPOFIAqIQLFplyEYdp7gBQhH72lWSj8PHPAMQdksGOl/SVmpnG69QPrRViNDT6fnv1FVGBL7IATA9Wh4PZ9bSRhTaR3zwUFBRzM3VZtQdxDXQYhhlqU4KXqV4KrnL27mtMm7qYfcBemFQUrSxrjneteYWdzEuw7ucGE86Pn4rhdlYciamCWSWZRbZ25AgmjOMlN21fGMtibAwttqLdMzbCqNboKW1mxBu7M1qYl50ikqRzhxRhYZkXrkdkGjFeaYCLmpG2dfdPM80m+xjeWNsoIOVVlzjkxds5GmSFEcBRHBieuR4K7OPGUYBMGLo1kwp+2Z4IIgzOLEw2zQx7MKW4RMi4bwCYIoJc06+RO0S0C+J8Y53APBGPg1FujDC9M5Au7P9sUZunzdfdm5b19gdJkk3ZcdnutQvdfXgOeSTX423xmbwf/QuSnEsPPMRmaFlrKheaxxroVVUPwdOpvvqq9i2/QqUBY389ev9QV7HHn9WuKac1kTLwhRLBQzhAR78e0tjvyUKvR7d2Pl6a9rxBcKpiLi8T1u7M2fFNUiS+bf40Hlu0qKbfqZgvr+wnmeOoo9fY0G/CClkpwnrl9KYenWorgmZuPNRQFCASjur2dI4REZPF8Cz03/47dV9eIhvY4/XMdh3so17q/mzujk1YtsAzVfdp1Vt9MmT+vCewreeqYql/S4dokxxRV626y2JU4aV9hGnaWfUoJvPUKfFtgbqS+rN5DeeZF7i8unzq99HK/CAN/Ft3EkJDiMXf85E4q4gS9C+VHKQZPblMSL/zliadA/NKt+kLpXz3ty/KGILeL+MbnNSwHdypfx+q1kUmIEISfpxyHkDidpEEfOvHpqJDglwPFt9mlmBls/p++iLeD4Pzi4h+LrzyncwzV2fRAiEDv5q2xe5FoPrVq9KKIakCPfWqq6a/UYxH4fdmDYBz7fj4nyT6yWLdtTS+L/tTwPUuKSLAVezJvRhTvHCQghrH1Y4EUhx3bDeN64nJYXACHC0F+juXjBJYIXZ6EPUUzgCucfS7DPtTZmoqA2mMFPT39vqDeDo/ykiM9aPkf7cPWpdvF4LM1sKPmRZOlolOpg1oglZPdqFJCUdjEZ6/Zpz1/2E+9pQN0UJ3eBh7mVgJfvAih3yotU4o+RGS8WTTLXKt+z3BTYwk++7xclGSTJMN2lCwcSXEErxbd3OBnFtwu38Y2k+MTmyBLfzt8Z0SbLywgIPnC/crRzEztL0MMKOngMyj70fK58PxTnpBo5fOCKF51Lr+boGcO+1Aa+XbzAaviA5nTaCCawRf/TM1oez1PowBMR8J/zFS7Ey4dN61cyemi9eIMmBjItpB+1/hMAAP//CPScSagmAAA=

- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SSX4vTQBTF3/MpDmG0CXaM1bdCK0s6SAVbaVLYByFMJ9c2GjNx/ixV1+8u6fYf7lpqniacO7/DnHOTVdUkK2k3SHTrEvnTG0qUbpysGjI2aY2+q2ylm5d2g/EYyZ00Sa3Xh8naW0eGn8Zqvcbr8fNBIG6neZHOJ2LE3gb2h3X0TbkanDeat3JNBryGddJ5i69+RTW5awy4ssS1d613J6/5Mv+4zEcsUtL9N+EeG5IleIM3r+Igy28WeZFPP4gRi0htNEL2gA9xD+UdeIlevwf+GXxwvDyIgzQThbgV6TKfzmfFZLm46Q4HCosiFpXSEV48szE49n+8RMhOpuFOjuM4ePBOM4FcO1lDbEl5V+kGE29kdxiypy0BS0o3pQ2vCpQOYF7uwfa8xb/p2bUx/4MbB8H7bD4rsnwxnb0bsQhfvnfhfwrw6ONcmjVIIWTHdQovTOr2rK0LQIPwol7uDB+9/Ok7vV9iW7lUlzQEI9XHfLdbQzDd9iGM0aYTTB9pJo4tHkq0nVb+7mHfODsLJ6Bt5XB6+p8AAAD//9CDYZutAwAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/+Q8a3Pbtpbf9StOGW1iJyUpOalvbnqVXcWiXY0d2SvJabvdDgciIQnXFMECoGzH1v72HQB8k5LtJO3eme10XJsAzgvnDaDPvrNnJLRniC9braMjd+KMPw2PHHc4cqcfL3o2jYSNPscM2x4NBSIhZtz2PDNi9ObW4pitiYctEqq150enzvSxS6l3hYVaORq6R+ej4+GJOxiOe4aNhWd7IbFDLCzfUOMfhqNkUEKVgzMS6qHB+c+js/P+YFKZ4NPrMKDI50braDw8mp5lM4sTGfFE0DA3RxhzZgfUQ0GC8nw07Q9HznjQjDll1S8CPX07aZx9Fc8wC7HAvDj78sPlaHrpjp0zpz9xeu29gM9chgOMOAaTgcn3W1PnzLk4H08H7sXZ5Ykkts6cwAGOKBMlUmoLt3LaYnhF1/gjnd3u7cNdCwDgGhHhzilzUSTcgHpXXH1mWLBbb+W7ZO7OEQlihqHbgR/gsAMoEuYCC4hitsBg3sKKzm5NHC5IiPXvXkBamxTdUSbAb4803xyJzwswCuMoRzgIjkmAeYaXrcBkc2hv23IJhIRcoCAY4Kiwrk6YG1KXCyQ4dA8kiQc/gBezAMw5n5zBUoiIv7PtCHlXaIG5tSIeo5zOheXRldSpOVnY8SwORWy378r6scmWmdkyaWO+5eMZvAdbrKKdU+7vAd8QAW1nPHY/TtyL8fnAHTgfcpWaDj8655fTrVI/lCx1O+BHVwswyVegvDg9cfuDgXvcH54pdCgSK8Sufu6fkTC+6S9wKGBJAz8ddBdYuHHkI4HLUPsXU/fyYtCfOiXy0yU+4XLdgiG/YeFgOJGrT8b9QXn5nDIFImEOSAgoQt4SH5ixIAFXiicYCrk0PFNtLMwCOpvHHPe6VtfqgodMDzNB5sRDAnPwcLQ0Pbpa0RC8BaNxZAZEYPDInCdQPRqGgiHvCjz5MyAzk8WhICsMeCbQLMAcsFgKSgOQmGBBBCyCmAvM5lwamJKboBGQufoZEmHyWy7wylziIMKMA6FqJGI0FvgASMSxABIl4P/5BwRkFqGVGV3/EaOAiFv1If3DlMg5rGgcCgglUs1RRBafgVMPCeC3fM41Q/yWS3MAyRRWCEEOmIHcZbj5nPD9mUQ/gk+V6AHIHL7LNjAxPHjdgS4cdjrQLuzLjyCWOEyWAfyTxixEgScCMM2QmhFaYAZmXFqTzS6rwnA0mfbPzkpaADAn6hefhnodmcNvv4HRvutfDobTgeuM+h/OnMHGgF4PBIsx/P57iajdvKDYJ8J/LBd69pfQPycFH3ZycTlgZI1Z7slWVz5hYEbQPrm4dAfOZCpN++ucXLgmPkHWgohlPLMITT6YvkwImL2IFlf4Ft6XUdooEunCaFE2WDVvPPzkjCeN3D4lfKR0SzOWZCDf/78g5JtIUseLergozbICwkVN2g1TUk7/ClaReJie96DyRBQJm9OYeZir75b/9cSXw8pWZXktyX2tzDXJNlI7NqVrDOMbc4mRjxk323txiFYyeduHhefBCl1h8K9W/GkKtJWKw06qH2eTTD1ibqV5n5WoiswmBOYBsrV8P9mjT8PBsG+q6GrevD10D9+Y7Ts9uLFYHIJJIfngTKa59mhPkc99GidiFQ0I69XdivKLe4mXkgHIxJKCiERYcpwMeL70tRrIxkg+Pm6PUpFASU0Oekb7TsvCHcgyZuxK2ofno82r6sDk8vh4+MvGeBrH+yVv/vh1JRc9Ofml6qKxt6RgDPU4CRcwOfkF9O5owaiMHhJu1Jfk9157b8FwBDLZGQ8/pA5C29VLMyk47sGLBZhzOADTB6Nn7CsYnqxF2gkkIJovo/vW6rxJZsh/Jie/JMy5l+OznpGqZqaXna5F2cImocCByRc3tu+hyOxaB7YyIPVnGh5l+ah92gSzNWYKmc0XN66a694cvnE1427X6h64Xrfb6XQPLFXMpBT9+GNC6eFfSenhV1D6skCl3uxPmHFCw4L4OYRUAI8jmXVi3yjnAt0qTMyR1yoox0X/6LR/4kx6hnJM0kNJ52Q8NXzWrc28zZxiO8UCZcPJJV83gAKN+bRWeb967b0Z4lj513Z5G/cL688dVeU2dyUorqQ7d3r6pvVwqlAIzO27Mv6Ndp4JLLs4vHm8EJS5LVfUB/TqZhs4NevJqCbT/niqi63cyWQF8ViXGJmrydQo9UYChT4KaFgo2vXETau1wOIjnd1eXC2+pC7+2opYFpppmiATiEoNWkoKdBF6/uFXlS+fydLvoaDbTQpeL9oOflt68hV4v1BaV/iW5yRaiHtwDzJ7NU0fI7airCamenL7ceKeXJy4p86vj+8LbBWTAp8JSDBZqPryY10+D6B9Ygsg1/IRFteUXV0E8YKEmYpmddzImf58Pj5NmmSyjgNDuQ2jWsll5tCXw0ejYatQYKUmlXzNOkrVviU8l6SlweZoNGwowWqL1Lj8Oj35L9Vybd/JvzTJE+mAnj17aW/gGVxyDDPElzCLSSBICM+egaCgO24gvbO3RIzDnow2EEdyUCwxzEmIAjBso7zFUuACsZlcqDXRqFNna2oS2jYG1KirOKYihOKGpVJJ5fuFovk0cqbuv7Z8mkh8nJCewdHEefXppwF4KASfeEJagyQx73nCWucN30PMMePg0/CFAA8xDIhDQMOF/C8RIO2Ct3Y4+WwHnoGyCVOJDZKWFIclklID41ViMTyez8kNkFBSRFhKCHDBSLjgsEcsDF3rjdXVK/atVPRiiQQsMcOW3tHL8dgZTd08gy2wZ6Zgk5TVBwMMmbm+hnvg2IcX/H59f/+iMP5KjXf3E2bWigaZTtGYQUCvMS9kVRnZdF6QaiHFKPSJUwINCfG1kfoWjldrzI7oKpJSb99V+HlnGh2rY3WMjRyrQdtU/I7OBr2YMRyKIMu0sN+w6XVkG8nngmEkMJNyDmGPMsB/xCgAQfdBICYzOJlbFYHUqbKAX5EokrXHDp2xtBBwwHGFAZLXLs1011HmCW5+RlH5VElJQHXrEveaY2mEni3YkvruDHeV7Nec5wlwEdfA+eAeD8+cqnnnM5obdzqGjHecSsDzvG6sc5yZboOytruJHeQqFUdcMIxWsEJEgeDKqaTtbxoCAi4ok3/g0I8oCQUwJJapTsl/PSF1CkUCGI5oFXvmzUp114rObhETZI48wS3lFbC/wFaIhRqzKwc6duNOandizwgNiacLNRet/MM31eXujuVmV6+xfDwzqoFn29FQlUnnQxqhmzlXkagcRWRq585JkNYahx0ZRrYgtGvalQXdZoTbFa8xz2pQ3d6TqSnlOOrkNVdHfexaUcWCoOtHuMV1zUqUdEZVDpydtJqcLLjtMaJPLOykz5GfwNrr9l2ZnE1yTmzWR/SJhakVRCBmLT4bRcJUeHf0ztdJ3b3r+abXmbczeCkGvdl1HJtiaVcWemLnST9BRlM1DmYWSg/e2z5e22EcBFkQTYSReWjbXrwoVtrVrbw7vfzgjEfO1JmkH//NermxOoWMu31XpmUDvf+BmrDrqbeOIHmsqEKRoVpTiwKGkV8IkvWwpaUj1ySxrxCDyoQ0xLKyXteXVEi+DKUPVTFPLyChoPmq5FC+EOgEYvD5Zj1/gjqYR3WAGTzdUfjbDz9ktpVMSba3WMWkZUtNvRTEPMxM0wsHlaqqZJ2Jaef3EDJFOSgohPkZ2ndlf7Vl87OGrqyEI8TQCsuMZk4ZbKELrpFumC3IGodGw8FZTlxGgjMelwq7nMoaJ1tJzS5kZJr1lVTk/nHnfZCHPczdzvWb/CqJdIF1hg0JorRbduO8HE6he363ndei79qmXPWaIBfzA46svh/rqjOb9scnTg7c6FiHVueL8vkypMfn8nUiv1EqXyGo7g8rEm/K4LdZ2C6FUsZcQ5+BXK2/kT5uu+n0KC1Ms2+lhHWf+c3BVz3tbv4LZlG6nlW3BX28VbSEe1CnPsZAjaT6YBSq4u91VdxYRzdWztpUVCszL3z/bnVeW903X2QrRVCPtxSV0/sltr6VrZQIqluK3IQm82ioTvO+ePZJAT86G/YqePIGY9qVTGfqeyXGa6tjvWloSJaAqlmv8/iSaBoUmqdphXrQUVdQDjrFO3pVql5ml/Z6BYJegmmiIKDXpnQJ6loVb+h0P3jCWezv/YWtTS3h76ROP6ZVV5N4oXPbHJ8Ll1hbaTpn3nx+HDqZyFUBeEt6HYI5BkapeCd/NM2R/socJ2leYTQXeK2r+ld3Tb+V6Jva72X555eMd0qwNi1PlOujf9IOb1otfCMY8sRpPMMfSIgYKdxMPX07qZbKssiSy/vjX3WafdCqnmnWbiFvMmD5hlfgNFSoTd3tGmhboyt2tyuQKw2IIoTyVREpR32nck7Zqmfwe+vl/XNTI0i90r0BpsmX9DqfiX0zRCvM5S6ouulhIv870yrT5IKRyPToKqIhDgXvvZa7VL4kDYUL3CH1sbpLL78FWGwdS4srGesfRVZBG366jTCTQHJzPRu60/PzrK6KkFj2DHtJV9heprPN7AK43VSOJ2VmFBcOf4crtMDQTsFD++6nXy+csdpE1VUoKZfRlniNVukQLV2rg5UnWNPZ2Rw8ITdYbVWEPAxXb7lFKKi7R6YUkqkvlYrbCPdmJPS/58zrKYTf+1wkv9FIEBpyNeEdu67RC4kEp4hfQfbmAUwPDC+qbKt9l+zh98l+bUDz1xBnVboqB9N9N6Bykz4dMHeIvhmaJ4JmaJ4IHoJWykOUH/tXEHOmkYlAi1lJPX0ic0jSuQKVOBTsVjeaDQPMtYb0Tv2sk/P/cadrMnuyjHZtU3G3vNTy8xVfJJRcGA/A2SGOPKU51QhP9fx+6MvfLhi9ua2c8+uk40lo6h7s2fR8cP4uP7BUR64+kWYC3hJ7V0DDanQGGnoYxhcyQQoXWJYkSRvaLyr/3l57T5U7jbRk1ZhhyWLsYB/e96D7t/19eP4cfgMzlBVDNega0FQsNOQaW3DWIW7XwywOpEcB7vhyJEN7EhCy05ctJUyBsizu6ThSJr6Kt3mdtory0kItVNFsqZFP0uNt041d4Hbo2ZbpRiEnRa9uqu4szT2aFxdbDFuYe7llqRzYllPA8zzuF9TuYnz+yzaleyYhqIeAUvcR6KcogHyfhvrQn/D0GoMPs1t1MsxoAFGAQgycAhHAlzQO/PCFgFlAvSuQWRZEjK6JrNpJmFfYTZnNXZqepEqd01s8Qm3V127NvXJFH37snzhpHg6FY44c6facaMsTq67Mtjvb4jhRXEliC6eSOR0y2d5L29BkhX2gsVDTVRsjFUl94QbWBIEi9Pnz5gPDo6mcf+JeXOaVPewn4XwL4+qM4em867OSP43LhKqtjOrjj628ljo/u/hIIvSfxUfi6sp8JLfXtxA/b3qC+Zdo+059ZqtG+XyZbqUnbY+AXGpxq716eJUWoXpVehkp0eUFu+6Q6t6iGkqFiG8iykRxpPjZnFdvs+RT5nHo6SRDv2PVGMdxfjICpTu7atgV1PWlo8e99t4uyXPQd2R1s9hcO6lXrwSq9n3jZ+u3jvn3319tGTWbP7tGiq99VxCITHTQ9RW8uIuYzPrb3c2L/TqDWsRS312P+rjX/vdK/7SdjcF3Peg05xzaXrKZheQma8JWJbkxJDxjSxIzp6nukLBp9W//8XulMsjeO+b/1D40aUViYAmKzW4g2ctFyHOfTUX1qopVbgPV7vkedCAtImorc8PIMrKKhZTsBoy8DiiszfL43WtVdqKSi+LisrB44Q6jLJSaqQMU+tCMXGYk2SFEUXB1xa5ZdE2CTYJP+WkeqxDaPKlCsppU2qI6w8+bJlVZV5eVU7k2PBtNr6ilr7sK7a7HP9pr2jq/hmLX23z9SiBmuEYimUP7WAbB9Dxi7Pzn5XDsDJpvdufrW4mx4JCX4LYKhzT67a9+2OWo/5lGcoQ3PHZHjjPQz4IbXwXrNNgTgROiWYD7oT8RiInsrRpeEw+bkT5jrT8/K2ErvO0oRbQMx4DwDAmNGnG00qhG15gx4uPk1vyRkmzxLuHx8ERdCrvoT39K/xceAY19/dPy5gvLt992XHWjzg2xdK8ShhzR7k/Q2FvqrKYITDslDwn4xz/AOT+G9++bJvlIIK1S79QCdRrwrnDSFQW3Eq2kPkH9DuZIisU5P25tWs/kf/43AAD//2v7qGQORQAA

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        snapshotter = "teleportd"
        disable_snapshot_annotations = false
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".cni]
        bin_dir = "/opt/cni/bin"
        conf_dir = "/etc/cni/net.d"
        conf_template = "/etc/containerd/kubenet_template.conf"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    [proxy_plugins]
      [proxy_plugins.teleportd]
        type = "snapshot"
        address = "/run/teleportd/snapshotter.sock"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF


- path: /etc/systemd/system/teleportd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=teleportd teleport runtime
    After=network.target
    [Service]
    ExecStart=/usr/local/bin/teleportd --metrics --aksConfig /etc/kubernetes/azure.json
    Delegate=yes
    KillMode=process
    Restart=always
    LimitNPROC=infinity
    LimitCORE=infinity
    LimitNOFILE=1048576
    TasksMax=infinity
    [Install]
    WantedBy=multi-user.target
    #EOF





- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
