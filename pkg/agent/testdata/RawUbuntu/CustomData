[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_cis.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6yWbW/iRhDH3/tTzHHWOWnjGOnSnHoRJyEgF0t5QDhqempatHjH9ir27mp3zUMD370yBmNSIoUcvECeh/3t3zNjez9+8EaMeyOiE8siWrOYD4Qw/YejY3i2AFgEsUIJzj9KCPP1rw+//P3VAQ9N6OmEUDG5AJMgtwAAgvb1fcs+EhK51ikowim4I6Lx/Ax+Oy5Tep1B79Wkz1/KrM5Nt9VgmRTKQKhm0pxAjEYSrU9ATugFSMX4KnS6/D9y7BLtnIDzaJ8/2nah5tF2jhtL5FU7uGrZR3JmEsHBDaFhd266jWNrGcUwEeAs79Cxi1SYg5dr5emiOGFSbD2h4CLM54BTZsDuDQbDjh8M20Hgf78dXvrXvWG/N7jxg8C/u7UAImYt1iW9ZCn2UWVMaya4XtUWoFgVtEqFJDfJaSri0kgNKk4MG6OunGEqcuoyzswOlytyI/NNhBLMBN+Y8imujCdUm0hKtFlfTwiJkW8geqbXlzknxiCnSN1cxopQ1N4O3+me+e6WMPJvrtAdczQukyTb5TeYYoZGzV4EQ84ywZkRaseqzZ2PXarYGDdJo1SMolzjq/4oxelYpC7j2pA0raWkhFMdEomenmnGI1FFyo5GQi07DIyD/bzs9eICqFgG1+3vt++vWg1vTJSXitgr8xaNKqfrD1r2EWWKkwyhUcaLRYvGcZWUPVGmwJVgP3f9wWKPKS1/RuRhAjX23oQwyQSF87PmuylUcCzLxjiFdUHANTOJEIErUWXgeOJX5YCLUwxXezqxO5meCFdNpg48L+DxwqoJajbLl1X5BLt7KXqBKN93P4WIlcjluwhnZyWBYkTy1Hixykd7cYphjFiKkpikGMglLVSCGzLaGKeJyFU6qzkoYVv2BPFpy5EJbpLtJbUhL+U3iwrY1fZ7j8XCsjSa/kNvKpkihgm+eoVqpOAyaOh5vx0Ew5v2n8Nu+0cwn8eNUlAqYsZPKUZ6x679/vWPYbHw4W7QHXbubi/97xasPnhbQOd/tE+f3kh7KdG/PbDEFfAgEv3bdufe/6PX2shbT1yuURFK99VYEZ3duDeLLL/RW12B35sOfPt20E4vme8G1kWu+gJfDqexhvxJiVVbPtdKeKhWf26+0uw3Aotzk5TprOMH1XO+9fRbAPWzamW+OGfVQZb1sXd3af0XAAD//0UaPRLwCgAA



  




- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUz07jPBTF93kKq2LxfQsnbalQEfIChsBUVAwiRSxKFTnOJbHq2JHvTWlnmHcf9Q9oSosGhJfX53fOkWXd8Z3VNAnOAZXXNWlnxVWTgQEKvjmb6+XkRlIZzzUSiqhBHxmnpIkybaPpRhoE4wT8TCuYBLeAJD0JaZ7kAoPYzrR3tgJLF9qAiIBUlMOjbAy98kmjFCDGc00JSWpQdHqHQTwHlSy9bjyIVV4msWSRqymSPxsPkXKWpLbg8cUqxHIPV01z7RmvWTSTPjI6e03+iFZZ/V4XrlhLP7IxO/ivco0l9swKDzV7aL1NemixZ/akGDf/M26AtdmEnTAqwbJ17ArnPNM236m5Ozhhj7q1r/3GppJT4FhKD7tuQfAGxCWJC1RkGH9iFijU9awXkqpTD+Q1YFf0/w0p5yFEV8m5ctaKztFhv/eJqErOU1zYNJNqalzxUX6VWgGiLCBVDkn02p+kssYjiX77ow9jQRdluPnFYaFSKj1g2RG99vHR1zy6ot857n7N43DzdNsufG0DGcnMADJOzMrlXzEaaa9U12+ltqnAa7UDvbMY2EPANodzsEszjuBn4LdurMuBG5mBQdE6+HV1dxYP41F6/eM8ToenZ/Ew+d3aAmaiy7YHzjQV8No0hbY81369Z5Y1vAUCjNaKtQD/Yg9e0i6Gp5fJvovb+HKQjOLbVZ894/vB6Hs6Oh1cj5IgGA8skjRmEtxLS5CfLUTVGNK8QfAhSV8A/QkAAP//lvMgPnQFAAA=


- path: /usr/local/bin/health-monitor.sh
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6RVXW/bNhR91684VoTBaSErMtAOSKcCXWasQReniJPuoS0MmrqyCEukQFJpMsP/fZBEf6h2CwzziyXxfp1zz708G0S10dFCyIjkIxbM5J53hvtcGBiuRWWhtFgKySylYBa5tZW5jKKlsHm9GHFVRqt6QVqSJXP4uCjUIiqZsaQjXtTt/5JTtOQiyokVNg9LJYVVemRy7wxMpsiZwYJIolSpyASlyJQGW5mQ5FJIGnmeIYtQQapaGrLb10pUlDFReB5X0jIhSc91La0oae6yCLkcnmPtAYXirECoUbKnObOWysqa5NXuxH1K4kNbrgW3ReIH6w8Pv0/m729vJpuWtu7A79ke1SBZSY3v1e30/t31dHI3v3uY3l/fTObTdzeTyzBVfEV6s4/SMcRz4qs5V2XJZJr4nRUq09iJDJ8/41TMfTgMEjgvH1+/voHNSXoATscP1h2YDSqVtkky4XlAA6JAA0TVFq8vEKxP+G/wFlFKj5Gsi+INUtUmEhmGwy2lSJIe6Tg/P6gJIJ4r+DfsaecQrA/tN9DEeE7pAB+14kSpkEtYBdfjPfNwzDugQpIxI9+lWWhiq/Y5E94+b7BNKqSwYi8EfPFPA/7iD3Cvn5sa2JIJCSGxC2KIK5ma0cilNQVRBT8YDjHGixfb4C9f4vy8sUiVJA/4louCYHVNhxQO/iv7R6ReHTETrE/rdINmkigdbOnaKu20ud809bTIul+1EkWBcHb958PsLkZnmToD1wDAPBtLJbcFOvOw+Qu/5SopG2b9H1a7rbLjNx5fdB0tDPUO/GA9+2sy+TifTa5up3/MnF+bv6V+43nN9irIHm+MjsK/mbDtQhqjFLK2ZNo359XIcEHIasmtUJK1K+GwqN7acepI4v2Jqm1V28T3f6ICZxMMea0LhGUD6yDcxkeYITQIZ+2ivoyiePzr6GJ0MYov44vxq1du9f6D8dtf4hPDF3QZetL54AAKg1p2/s87cXzXN0dGj/rX/6MlW+2d+QglIT4UWFfdg2FLusTRlYLfdoIJnWAiV93bJhE9CYvYazbcbqMnfnsbtv1olrvfHU2mnxI/IsujlDJWF7YNFJJ89F2BCAnbq2Ey/bTpDYJRtebfnbd5e+gbKXBVVkqStEkQex28mWXaYn+vOqDYa7QVYTMeznfj72k7/NrO6REnvUp/dnl6VPwwquO1F+t4mDyngA7Y+5M4dpF7iBrpSWVh6qpS2ra7KRPevwEAAP//kxgmoL0IAAA=

- path: /etc/systemd/system/kubelet-monitor.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zSOQWrDMBBF9zrFXKBRewAtCs0FYroKWUzkbzRYlopm3Nq3L1jx7g3M+7z7dxF7uC9obPJjUktg6kyW2CgmxFlpXp/IMErgbIm4jNSgxs2UZKICjBjd52Ro4fV7UbRfiXD3ocPD3boSOP/xruc5IIaPd3fDwlKOiesmFnaou26Iw6H4VZvPNXL2Tym+d7wttYjVdtF0Fv4HAAD//zPpD7jRAAAA

- path: /etc/systemd/system/docker-monitor.timer
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/xTMsYrCQBAG4H6fYuDqHAdXpwkqWKVQsQgpxmQSB3dnZPZPkbcXX+AbbqYY00HqFPqGurVM0CJBeDJolsx7pdmnl0RT3BQetIQXquCA2kpwp+puxAsk6OGONFy/xph669xxkan9/ytqaThbBec8pjsbZO72tmwZ2mxV4hccqyD9HPtT+gQAAP//XmnFIZoAAAA=

- path: /etc/systemd/system/docker-monitor.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zSOsWoDQQxE+/0KQWr7kg+4IpBLG/CRyrhQdGNW+E4bJDmx/z7gJd0bmDfM8dM0T+UNIa7fqc1Gps6UlZOkQi5BS5MLnCp4zUpsCzki2TNIz2TAgqW8nhM+9uo+4D8qKMe5w6kcujHy+sv3+I8zZHx5LgdsrPZYmG6a4x1RphtkfijDNXxYm/A6fKkN/cZua6bZfB+VpFmyGnznV0vdUJ6mj/fyFwAA//+bGk4y3wAAAA==

- path: /etc/systemd/system/kms.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4SQPW7jMBBGe55CF5DoclcAi13sFmltBykcFzT92RmIP8rMUI5y+sB20ggB0hB8Dw8zwOweM+ne/IMEplGpZOffK2NIYtZ4rcQQdyxhAHcCnijA/Dkp2GXopfDQlhwpo1PPZ6gxu8292pvtPMIJpTHCrCHqWZ2PFz+L2VJCqbq5ug2CW5n/bwg3dLYK2wNle9/acM3Ns2mats1Q91JEP3EqsSY4W0btr89CQ4Md6gGcoZB+wd/EItEGsIoNvr1+6ETBK6QLrP3PyWLk5NlGOtiL92dk7ZfilqfAXaLARcpJu1CSHX6JHZLYAfPka9R+WnWr7rcxu4cs6mPcmyefFce/s0s1KrVVwF/n/wgAAP//Goll9c8BAAA=

- path: /etc/apt/preferences
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=


- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    
- path: /etc/systemd/system/docker.service.d/clear_mount_propagation_flags.conf
  permissions: "0644"
  encoding: gzip
  owner: "root"
  content: !!binary |
    H4sIAAAAAAAA/4oOTi0qy0xOjeXyzS/NK3HLSUwvti3OSCxKTeFSdvV34wIEAAD//6XumLkhAAAA
    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
    }








- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we shouldn't block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp -j DROP
    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]