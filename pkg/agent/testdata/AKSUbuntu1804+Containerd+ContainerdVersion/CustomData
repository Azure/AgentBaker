#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXFXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G2h2HLU0R+78z73oc6vXwRTbmIpkyXQYBpKSH8LK1KuSgg1ZiUWNWodJJxbZQ80iXkUsHXqRXGhkEQsNrMmZpdjs+4sPfjAoXp9uBHAADg05Fuxgz23pBuKbURbI69N6ANU2a8HQoh6Yc+9o5xk+RSJaw2SSXTmfbLCo36ns6zhOdJznhlFUL/+C2cwPEJsNpQlxFIH+5Y5bIyn3WxgGsfznO4uvI/AqMRhKWsshBuboZgShRe4c99zw2Q+OIi+e387DS5HJ99mnz9ffxrPPmyrKt6lMeKJzNdxGfx+HO8J2POnzAMRbbXrocg2HarbcJdySuE3GpUEN0yFVV8GmX1rIicbrXEahNVXBu9tp6ytES/w1Ra8ltsNt9HGd5GwlYVHL/v9IeQyVXJroZXl4wbh5CDRWGFTCPI3HUI/PFetXpdIdbwzj9nUmDw4JhKCjSJrZ0TbSWu9xz1qP/WPzrVUpFIa2prRpGZ1+60tEBDl1tH0pqlw1IBBy6AdDV+gz6QJl1v4/R7sFv2spbKwGn8y6fxJPl4cT75Ek9OR0IKLgwqlhp+i63aOQyUplLkvHCUUgaU5lKl6BczzFttc2SgOdDvwIU2rKra3RfQ/SlY1uQ9hwUYRCBbLsACCoU10BjCP7pXl/HN4Oh1b9G9wvhGqaPXPRL2oNNpLoT7S5nZlafTgalCNlvdnv3idttdDCAcKH5rHYbHt6JpplUC+it7K40NDCftYnMvPBctXPE9ptZgBo9sIRwMn6Pe9/5YgdVYvEUW6Q+Xgf4cI3I89BmlNSPybgi65Ln3ZfOf/wxfTdlAJZzWs2IwOK8Nl0IPBqNwPda/yygVkjYRVGEq53MUmXaEkh8fHvbg8c/6v6FYskBW/djY3XxHPBOY1oj9NV6H5MN12DI1fBqq2qpi+2X1P0fKF30gUP8+OIfR0dT0dxhwX0mJrQvFsp8obEwtp1vX7JxcTkAbQTO/DkBhDwaHI3Bo+/dPq/b7S5fyzn0R+dW1+bVemQt+PMh2WPO8cdZOp12ZtsH7K3lwIJUbPG4NMU9cw9tu2jY8WRthOzl7GZ9/DP4MAAD//wot+8SzCwAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/8Q67W7bxpb/9RTnysbGTkpKlB1vb3pdwLEUX6GOLUhy2otuQYyGh9RE5Aw7M7StJF7sa+zr7ZMszpDUt5O4KXqNIHE4c76/D7n3t9ZEyNaEmWmjgXyqoDlSheZCJsANhkIay9I0jISxWvlmCrHScDMppC2ajYbGTN3iWzWZHxzCxwYAwB0TNoyVDlluw1TxmXGPNVo951kUijiMmUgLjRC04SWctIHl1kvQQl7oBMGbQ6Ymcw9lIiSWv/NUNB5qcudKWiYk6ujPJ8oXuIleJX0Xc7MgtQNnKFVoLLMGgg5h77wEXugUvNiMLmFqbW5etVo54zOWoPEzwbUyKrY+V1mLKxmLpFU4lbb2P968vrka34TD3mXvbNR7WIB5CzAv1yryI5zAj9CyWf7ZK58+Ad4LC/u94TB8OwoHw+tu2O29DrvXP19dXp91w3H/be/6Zvyowk5IpKANUT5LwBPfQHLw00V41u2Gb876l44cy23G9Ozns0shi/uzBKWFqUqj+jBM0IZFHjGL61jPBuPwZtA9G/fW2K9ByFvDIk80i3YAdvsjgr4YnnXXwcm1CUUlHAgJLGd8ih2vsCI1zmesZtLkSlvPGRYmqZrEhcHTwA/8ADjzOGorYsGZRQMc86nHVZYpCTzRqsi9VFgELmJTYeVKSqsZnwGnv1Mx8XQhrcgQcGLZJEUDaKdWqRSIEiTCQpIWxqKODcWG05tVOYjY/S2F9czcWMy8KaY5agNCuZNcq8JiB0Ru0ILIK/Tvf4dUTHKWefnd7wVLhZ27B/V/PCJuIFOFtCCJaClRLpIPYBRnFszcxKYUyMwNhQOQUOgIAh14KVkZ7j9Ucn8Q+Q8QKad6ABHD3xYGrAIPjtoQwEm7DfsrdvkB7BRlBQbwXhVaspTbFDxPKi9nCWrwijWYxe11V+hfjcZnl5drXgAQC/dLpCSuZIGLwU1Xi1vUy1yQzSKhwcth/2JwE3Z7ozEFx7elCXkrIsH8RNhpMfGFqh54keIz1K0kT2Y4hx/XSbZYbmvAPFl3eXdv2H/XG452yvuU3FnzTYFAbLAo+ncw8qdossy42wl37ZafCmO3tL3jSi3pXyEqs1/m50dooeVkjpahgo7GPfejb2d+PTE/6ixHxO4RBW9dauuo9ii5yOLemyKLUBtv/6CQLEPw9CEknEPGZgjRLDNPc6BHuThp1/5xOVq4R2H8SN3JVLHIr1yF6rFFk7JWqd93rat3/W7/zHP1ybv//iQ8Ofb2P5aHD74uJHgKqge90XjpPWWmWN59miQ2y7tCn26nFZclD6o8RSncQ+IgFzmSxNUBj6C5/7FE8tCsHn6djWqVwJqbdE6b+x9LXYTd6/OfesOQeO9fXz282DwY3bx50//lofk0iQ/XsvrXw8ViJUWPLn7ZTNFlT9svz6mrHV38AqV1SsWkirMUKmnck+r30/2DRGMO1C4M+6/rBFHG1XNPY4rM4CfghQUvhg54ETRPm4cOB2cGYb/CBKKUqxl877ePqxv0M7r4pRIuvBlenjZr11z4ZTvwlU5aQlpMPZPctyLOci/wOy0XQO6/dbFEbaqcNkJ9i9oRa5nkPnR3w/uT47AUPAz8oBPyIGi3g44/EbK54OiHHypOT/5KTk++gdPnK1yWxn6H2gglV9RvQCoLpsipb8Ooud4NBJs40TDeWHGOwdn5T2cXvdFp0yUmylCUnJpPLZ/b0ebNF0lxv6YC64Gz1Px2AKzwuLzWWLfX6f7BhBl0+XV/3YyHK/DXvbDbH562VG5b7EOhsbUYhUxL4Ua787G8/tD4cquwUpj3P67TfyiTZ4WrtXr88PVKcOE2zVQE7MX9Y+jcrSeTGo3PhuNyXHloNMp6d5bbn4Wdvq3nnsEs+SOz4bdOhTRs1YWeWoCNOWytrJeD2PXrf7me95LGny+VzaAa+nj+OPrHGoxvoPsHtTXDuVmy6DPD4RNQ/+l5ETKdKb2lpu329O0ovBhchD/1/vX1s/GjanLoFwqymoa1iB5u6+cLZJ84Bj80GpEwNNVd2fxMRmORoZlLHlUl8HyqlVxua/agW96Gcl6MPFsDuHNTRKo6ogHL0BD5VTejz6JdkpU2f5TQI2fRCmiFrRIOuJOu1ptLsStd6mYfWt4Gb16V7EXXXB5U//gUi/CPf/Su3zT24GdMucoQrKJ+pUZRhmuhmaXCE4sUfRhhfewwHLw8dAuGTGls7IGQsdJZeZ9NVGGhMIUTKxIauRW3aPxGYw/GU2HgTqQp0Oh/UORg1eGrxh54cAxV5EGsVUb68MuEQUEBd1PBp2CIWaYRRH57AiiJROSgO+vQnRo2Vyr1CZfSSYVEmDVwYAbuME0dmqBCU2L5tR38thMRMj6FA5HfHoOS6RyYzQ5r6TJk0sBkDhHGrEjtd+CkhBOICpZ6xjI+Ayaj6nGHxk5BmmMp9Ae3xx5hbOwt5HHamiApLPIbe3Bmna0MlUC3VhGWopkJaUr95FpZ0jnZIqHHFpREULGDQ2m1QAMTFDJp7LkWGQ64ynLSq1XwvjBkPuouV8BSIdEcln5wcDl4BXvBf748Pnr5fekHdkpuEAnDC0Ptit/YI1YrVyBcxjVHlXkI49V4AAOlUhho9R45OTIkKFGzFMySSvv4ZefloRM8z7W6xYh0W+5sYYx8KgVV/NeK6QiUhE47CLx2x2t/TzDELqXbV63W3d3dmhFb75WQ/tRm6cKTV/3Yb+zR7U0/rH7EpNDGQsbuazMdV/fbOx1m+35Q3Q+eeH+3Z2/f7yzCbRGCYHLkIp6XBlW8jNfKwBTmUHVJZK9+lwoR5EyQ0ZRu7DmLsYIGGyt4paQZzh3kjkxDdewLTDhQIa2qQrOEjEqfN5ZMQtc05by9detEWsS2JH3LdCsVkw3y7gLRv5FcZRnKMm5ilabqjiQkl3aZr9ASUpUkpcv7jb1UJW7dN6MnGTJTaCQEBqicC2MFd5JdqsSJYBba9BupSqivLJlSScUN3R5RFZiwCNBYkbl9apEbtNZRYXxK/HBquv1Gxu7LVG9meAdBu+23d6iyzGAGZqglpkAViagJU1r2AG9RzyEIIBOysGgOK2M39kAjS10ZqyjClbKkbGYpn3Am/+9//tfWaQdYqmQCd8JOnQ6factJ7mdLXvyGtpwYcJKWQhlwxYUi/hUsZyy+2fCg9ApT9em3QltKk5U+TDVwEaeeQ68xdhzD4J/n0IrwtpXbvA25SlM4gsj963VAxbFBC+0GDTnGYg6B3wYvaFDhK+vwogRrNJZpW9fbBxLBkqb5FPmM6oUqrBERwgQ5o8JVT+iWyYh0s/IWh66z1CjgNBu6ZLV47YQ5ygglF2h8M6WE9+6fXXhdiDRC3ViZ8FfQ3VbzXxk2osQ4HDQbxOX5qPeCUHAmIRLcMlsGDN+C/44MqQ1ESj4j+2qkuufMygyZ/E7pmWl8RrBFl3V+fTU+61/1ht1wsVwIqtbFGdGbFCK1UK39DUzZLQKD5gt32gRTxLG4J/HtFIVeimi185oD4SME/rEflBCHPpTvykr/nKJGv+TkZjjsXY2XbBysCO7VaKulRgRNaIIXwxF8AnLqZ+bT7adPz1bOX7jz4LAS5tbxUNpfQ6ru0KzM3Qu2Vbyi7xJUuDCjgkLD+spxWAMJmRe2LIbDgTMOTJmOuIqWmOsd2a+/gvcB9j9uK/4Bfvtt4wXCDus0A/+l3/YmaN3++Chg7fjvnShu1junmpDB7Bb1edUL7H/c0O8rr9n22367+bCbmQ1OSlfmhdYobboIA4x2uOc2sQfSXaKRWaT2gkk4UBrw94Kl1DOCZZq63wkzuIpkmysfzEzkOSXZz3i3XyoDU4MbAojltm0339sklyuZ5SvljUfn6x5DP49O5IsbezC+7l6/glhQsbd6vlhwEnfOmRaZleYD0Ji7zl5CzNJ0Qp2nVc6bqbiyBAHzBfYa10ry2SndAuCRZdFnx8uNfZEXL1dGq7S6vdfhm/5lb2OdsXJj98suAJ2BN4xhfxVZNYmOwm5/CP+xsmndFvmrstzSp4vcWI0sg4wJWfbglH/rd67Ugi9VLaNcCWmpnZnWTk1/OFW8hb02qS/m6LVVZaYmc6atiBm3xndpEqMEfYnWnbU2PgBo7TRlmV9bE6Gk4GWpDVkWnRxvgoe7wFte67/+u8LhBSWgH+GkubFfe8wUW5L2Xofjt4PTdU9YEX9v73nrYX19wQudhq4NLHcsJ21oPkqwteVj47eDhyY8SvBx99u53djhwKdP5mblDcDapyjbxa58mxGBt1Lq3JK/2XUndZJqrpS478oSt7Mo7iyD5ULV7b2W9eTvfvvID46bf6RwrKL6+pLh/DFaE+vPqhlrDG1XCzLCruqwI7V/OYM7WueX/dMNsosLZblvVsfnl/2HJpyeQvPIb/vHze1yv4bU3TpaVp/q1T+sLN7qbNtpu88ROu3Vz5M2uXq++F7pdIWh5+B5jIYoj9Kn+yzF7NiSPv5+i6fI5E2+4xOEOnnXbwoXD+MnvAB2DTy1+f8fAAD///eqAY4PJgAA


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/8x6aXPjOJL2d/0KvCy9M1WxTdGudvdUeVuOoEjYw7ZEqnm4q3Y8wYBIyEabhxoAbWvL/u8bIEiK1O2piY31B1kiMp88kMgEEnz3/7QZybQZYvc92zFhaNkm/DLsv7/PGc9QisEL4IgkQI3Axw+SxNYnsEXxodeL8mxO7gqK9TglWcAwff/hWw8AAKJ7dIeBCoF6ClSr/EzBCVAn4LP4A0r/m25OLDvwoPuqtFmS9bHXXg9nrKDYnRrvPwCJz5aM4zTiCczQLMF6FnscUQ7oIpqRLAYvLwA/Ew760HVD76vnw4nhj0PP110/vNSt8SEUlXHEj8F5bbnhupjhBHMP00dMDUx5o+91MIJj6IcedG+gG05d60b3YXgNv4ZT3f/7UNEwj7SHYoZphjlmWoQpZ+WDBHNWAg4e8FLZhmZA138DTES50itx8gXOGEvAHc4oQ0DNCw76B1QFH0/OPnW4Kf4TqBl+AurzTyefgRqjJQN/+/HkBKgPeHkYcKvYxiagsmL2B1A0wx72vzWBKANj5flPbMPXxzo5SgjO+Mq7PC+iexGFu4CagE3zGJz8fHJyFHH+lAGa5/xcfBzgKFn0qVW7LBiNLeOgIWhB2lPcsWUn2JoxZ2fHUW9Ys49FmvNfgQvDXz3H3mEE+u+C4sEfLM/Wde9ybnX/LppNPTcIZSrAHPzHc/kVR/f5jvl5VcALmCGGfz4DqhrjKI8xuDhi+mvMbV7aDXpoGsoPQWEZUEi2DWuqj0NjbEFbrCTDhf6w/+0Ahabd3mq3t7e3r/82PEXgKRIvQhz88guAzmVl1MYEyGWrRElexMo5UHQRCNNilpDIKJ/9IAk4zlDGrZKm/82Htm77oWW+1uOsmLGIkgUneVZTecHIM1xr6luO3aZFKDbKdd8Q7jJqG5OHI4r5AUbpjYaZYpYXNMJXNC8WktWFnhO4BgyvXCeYNpRJHiFhgyQaO4YutG+GH1N/ucBy8GYS+l+nsO2CDHMbpbgx327pwHBUUMKXpQ4rKhv6vzvutdA4cC3/65o+jx3IG8v1A30cVkwdKnfTxjXycIfNNC849kUVXklyncCHoa+PxisDF5SkiC71R0QSNCMJ4Uuvrd3UtSa6+zXUb3RrrI+ssTDHa7mgAvAilOCtnJ6hj2GHpQzMKc0fSYzpCEUP+Xw+yeOKzxg7gTl1nRvLhG440o1r5/IynDgm3AugnIMdvK97uFzMKcFsN3PoQt+1oLcPBD4v8gxnfA8K/DJ1bGj7+2DMgtZhugvGDFwZu3tgfiWcY7oH5FfL96G7FcJFHI9JSraZ4uo+HFsTa7sNDedvU28fc/jbdLsvG4BRET3gvQqEo8C4hof1+J0Sjg8pE/7uWj48RqXDcFKvLmLB8ARl6A7HVowzTvgSPnOcsXqiAw+GE93Wr6AZWia0fbHA4Bcf2l5roguGqc4YuctWOJYpF4zY14e651lXdhujlWcLhq2McZRFeII5ihFHjWzL9nzdNmA4gb5u6r7+2mRNFI9QIpio91DUyVM3w5E+Fhxu6F0HjYyYMJFtnILP8iKLPVv3SxldDtPyRPoJncAfOYFthoKuloifo6SI8QQxjuklzVOPoyxGNB6PSij4xRgHpnCX50M3vHSdiTg52KbumuF49NpkJDl9N6hIWvnoeuKFzZzd6MHYrza+FVuKnklapOOW2W6RYCMvqpU90b9Yk2ASCosag9xgDEPDCVZLuxZ/jZe18IdPTNkcvcG0igJFbL6hc9nsnFS5cyJz8I9/HMqJYAiUx48K+Oc//xPwe5yVnBIoBioBirYvZ2mxAnZvHI/DkhnnCKQ5kZvD3Qe8ziHEsK3mEFJ+UMzpMkrjkMzDOSJJQTE4/XgCfgIffwJpHi9oPsNgRsMM8zlJOKbdA+fEEU4cwdWJtdxHqhlQ2kwKuJCWpHlcJJipYikMYq1NMxBado0xbMualiWXrZtRP2/MaWa2LuPTcXBl2XI2S69tmdD0EfQN2wpHlh2alqudnqjSwUJUQhiXw4ZjX1pXJUXDKjf3Ym+/TrIB0vBs6uiMLUNsr4dDoEQoIVG+RcsmWP7K3ilpWdaVGSXxHVaa35yijC0QFUXz3d1f36AUTvarpYgZ3zWY5VnpV/CXv6xh1EtpCDq6/W9bNyfNV43NSKbhGS8DB6gcZIgDVW3o50REWZV2Tz+dnHll9yUWe8bkEcdNrCUMqAmnMqRpOdqKXsS3D8gTlrkTHhAG5ihheAC8B7JYkOxuINKY7C0ZecYRyTCt1XhChIfznIZzkpSL9gScSsGyaRRX/7Wo4RyIwzeJ8CDW8DOOQsYR5aWC3VV9aY1h+LvuG38PfWsCncDfK28lQJNLdMDzNPkuSLZkEU8GsXZ6qrb0P1LVvVlNQgNVle7ZaKAZ/jh0oShJvVb/DRCmooiTRwxU9c+CYA7iPHrAVET++4YsrKIHfDwBP56UQiuyLX06MzQd41pUfd+Zlhn0Q293y2/lhqN6fjJqJnlGeE49Oe/d3G84tq9bNnTNcOLYlu+s9BKulL4d7o8oNZUCBpykmJawWye1f5SwI6Z2r9pvUbhaCv+aykcre3gyux48rp3bqxvOVbXfaCya8LLcjq0cEuO52LzVjdY9Zm/DOMpWwVjlZCn3EVEtIbNaZvlfJogD4lsoR0sWKruBLR7XlUG2VSpl8gWXm6dVMDRt5wG7P8Ihu9G/KxQqHboYTa+5ex0gP157vXfAv8egWMSIYzXLY6wmaIYTVod1NcREqQVyCMxzWv5c7SaB4BwAt8gYKDJOEsCKKMKMzYsE5Bko60OxqIItKCHtPMbjEvD/RtQFU1P3YVi23cf6CI69I+Z9m+P2hcB+If+ynofS1u75faOu/660tanQcQlLBpBXVt4mbKpa20kZndr/+fNnVf5Q0QNbbaS2270Jd5Sp2/YKH8+2bhVWlvyaFzRDK1O+rXbT5SbP4zlFd3i4EAdSxsW2dZ2iRJyg54Dh4enV+rArlmOKd45f5vQJ0djPvSVL8rvhEjNJ8gouLrq7wD+krvHKf7tmt+JQa463zO31JyZ2qDRPpgnKcPtY1nfhyHF8F/4WWC40Bao4KdhO07Moz2icFuIosXY6oJgXtDnrHjyyyvLhj8HHCy3Gj1pWJAmIkoJxTFWSzfO1NPvJE2ndtuyrJijEQZNixMviOkEZmWPGTUI76W6i29Yl9HzTcofrR/S04mEldfoQEwrUhVStxScEPVEi5RhlWeyIkIFcCrjPU6z1mytnbSCkrRGW66ffYdRaxbarRkPSusbqd7Fat1Mryeerr9uAjiRvwYsz9N/EGXobWHPA3sK6cRvWU1W1hxak6gGdg8fTXjXx7Lyn1kFwLrEx5WROIpHMUMHvc0r4Uo0RR+fgVukbenm7a11ahu7DW6WSSB8xPe/sUOTdVw+ADKW4ZK07ab+Z9q3SEyUHP3OpgPxeKVBps8kiRgu2OaSiOCVZSbBLWEHFAVmtBW1SPJAsPgcy1npCSKnYNriWtFKZSmlS4rec17is5ZRN11WMD3i5leEafr1Vegq42DnT6vOq/2NI1+kFz1mEEkz1OM6zZukY46C0Qg98p7wocUPdNB27VWDa7TTBy7Q6Q6AGVI3xIsmXKc74YInSZN85YZ/E48pt1QtkL79IV1nmxUv/fRnY/T3Xfs2t7IeXO+WAItsFeTg6QpK8J/weaayYdWzq3nl+D3J15doCb65dvweW3q0AuxeCb0JtolY3LCPPMhzxfC1gdaNsZdnQECdMw4XldYM+9ob99wtKMj4HyrdbpQqM+FYRy+f/s1vlB1A/lZe93ZH6Krr7tHsB3R2T7Q2T0FLJJcziRU4yHtBE0t1zvmDnmpbkdyQbpCSiOcvnPM8SkuFBlKe3yg+3zSWyvKKhO1HScrxcX3XrLtW2KnJF0eK+vretla5h7sTg4Ilkcf7EBhnmFQb7M5k0Eo5RIsopbuOcfzo7+7ECu0NJgvd4pBrfMCT9Lg20W+VVAcq+BLB3WK5aQdKsiJK+u/bar3Y8gZMP3feu6jenHvASUIbOz04+/1y9SiUOAazzRtWPP/8k36jKC75xcVG9ABQRUZ/kOhCkgwVO5ftVxzCIZ5KjfuVqGHia5w8NXRsPHwnlBUrqdoOz8SBYf2LYa0+ULUvyGn4d9t9XPnqTWU8nH7Ytcej6bwNcmf1UT1AX8nCF6wIeX9x2yXlzXaM4Zhcv/Z3Zrkymu6RtZmcbpfjiZS01vwlDOHVTIej6b0J5wMsNkGv4dT/GqiqU7xHlCYmWa0WhfAVJXrUcM7sCR12UQFsnt+27JpNevGjtesC09dygdd4IYtpWd2/XtGxTvoPOZe9/AgAA//9SradtySsAAA==





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";







- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
