[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_cis.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6yWbW/iRhDH3/tTzHHWOWnjGOnSnHoRJyEgF0t5QDhqempatHjH9ir27mp3zUMD370yBmNSIoUcvECeh/3t3zNjez9+8EaMeyOiE8siWrOYD4Qw/YejY3i2AFgEsUIJzj9KCPP1rw+//P3VAQ9N6OmEUDG5AJMgtwAAgvb1fcs+EhK51ikowim4I6Lx/Ax+Oy5Tep1B79Wkz1/KrM5Nt9VgmRTKQKhm0pxAjEYSrU9ATugFSMX4KnS6/D9y7BLtnIDzaJ8/2nah5tF2jhtL5FU7uGrZR3JmEsHBDaFhd266jWNrGcUwEeAs79Cxi1SYg5dr5emiOGFSbD2h4CLM54BTZsDuDQbDjh8M20Hgf78dXvrXvWG/N7jxg8C/u7UAImYt1iW9ZCn2UWVMaya4XtUWoFgVtEqFJDfJaSri0kgNKk4MG6OunGEqcuoyzswOlytyI/NNhBLMBN+Y8imujCdUm0hKtFlfTwiJkW8geqbXlzknxiCnSN1cxopQ1N4O3+me+e6WMPJvrtAdczQukyTb5TeYYoZGzV4EQ84ywZkRaseqzZ2PXarYGDdJo1SMolzjq/4oxelYpC7j2pA0raWkhFMdEomenmnGI1FFyo5GQi07DIyD/bzs9eICqFgG1+3vt++vWg1vTJSXitgr8xaNKqfrD1r2EWWKkwyhUcaLRYvGcZWUPVGmwJVgP3f9wWKPKS1/RuRhAjX23oQwyQSF87PmuylUcCzLxjiFdUHANTOJEIErUWXgeOJX5YCLUwxXezqxO5meCFdNpg48L+DxwqoJajbLl1X5BLt7KXqBKN93P4WIlcjluwhnZyWBYkTy1Hixykd7cYphjFiKkpikGMglLVSCGzLaGKeJyFU6qzkoYVv2BPFpy5EJbpLtJbUhL+U3iwrY1fZ7j8XCsjSa/kNvKpkihgm+eoVqpOAyaOh5vx0Ew5v2n8Nu+0cwn8eNUlAqYsZPKUZ6x679/vWPYbHw4W7QHXbubi/97xasPnhbQOd/tE+f3kh7KdG/PbDEFfAgEv3bdufe/6PX2shbT1yuURFK99VYEZ3duDeLLL/RW12B35sOfPt20E4vme8G1kWu+gJfDqexhvxJiVVbPtdKeKhWf26+0uw3Aotzk5TprOMH1XO+9fRbAPWzamW+OGfVQZb1sXd3af0XAAD//0UaPRLwCgAA



  




- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUz07jPBTF93kKq2LxfQsnbalQEfIChsBUVAwiRSxKFTnOJbHq2JHvTWlnmHcf9Q9oSosGhJfX53fOkWXd8Z3VNAnOAZXXNWlnxVWTgQEKvjmb6+XkRlIZzzUSiqhBHxmnpIkybaPpRhoE4wT8TCuYBLeAJD0JaZ7kAoPYzrR3tgJLF9qAiIBUlMOjbAy98kmjFCDGc00JSWpQdHqHQTwHlSy9bjyIVV4msWSRqymSPxsPkXKWpLbg8cUqxHIPV01z7RmvWTSTPjI6e03+iFZZ/V4XrlhLP7IxO/ivco0l9swKDzV7aL1NemixZ/akGDf/M26AtdmEnTAqwbJ17ArnPNM236m5Ozhhj7q1r/3GppJT4FhKD7tuQfAGxCWJC1RkGH9iFijU9awXkqpTD+Q1YFf0/w0p5yFEV8m5ctaKztFhv/eJqErOU1zYNJNqalzxUX6VWgGiLCBVDkn02p+kssYjiX77ow9jQRdluPnFYaFSKj1g2RG99vHR1zy6ot857n7N43DzdNsufG0DGcnMADJOzMrlXzEaaa9U12+ltqnAa7UDvbMY2EPANodzsEszjuBn4LdurMuBG5mBQdE6+HV1dxYP41F6/eM8ToenZ/Ew+d3aAmaiy7YHzjQV8No0hbY81369Z5Y1vAUCjNaKtQD/Yg9e0i6Gp5fJvovb+HKQjOLbVZ894/vB6Hs6Oh1cj5IgGA8skjRmEtxLS5CfLUTVGNK8QfAhSV8A/QkAAP//lvMgPnQFAAA=


    
- path: /usr/local/bin/health-monitor.sh
    
  permissions: "0544"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6RVXW/bNhR91684VoTBaSErMtAOSKcCXWasQReniJPuoS0MmrqyCEukQFJpMsP/fZBEf6h2CwzziyXxfp1zz708G0S10dFCyIjkIxbM5J53hvtcGBiuRWWhtFgKySylYBa5tZW5jKKlsHm9GHFVRqt6QVqSJXP4uCjUIiqZsaQjXtTt/5JTtOQiyokVNg9LJYVVemRy7wxMpsiZwYJIolSpyASlyJQGW5mQ5FJIGnmeIYtQQapaGrLb10pUlDFReB5X0jIhSc91La0oae6yCLkcnmPtAYXirECoUbKnObOWysqa5NXuxH1K4kNbrgW3ReIH6w8Pv0/m729vJpuWtu7A79ke1SBZSY3v1e30/t31dHI3v3uY3l/fTObTdzeTyzBVfEV6s4/SMcRz4qs5V2XJZJr4nRUq09iJDJ8/41TMfTgMEjgvH1+/voHNSXoATscP1h2YDSqVtkky4XlAA6JAA0TVFq8vEKxP+G/wFlFKj5Gsi+INUtUmEhmGwy2lSJIe6Tg/P6gJIJ4r+DfsaecQrA/tN9DEeE7pAB+14kSpkEtYBdfjPfNwzDugQpIxI9+lWWhiq/Y5E94+b7BNKqSwYi8EfPFPA/7iD3Cvn5sa2JIJCSGxC2KIK5ma0cilNQVRBT8YDjHGixfb4C9f4vy8sUiVJA/4louCYHVNhxQO/iv7R6ReHTETrE/rdINmkigdbOnaKu20ud809bTIul+1EkWBcHb958PsLkZnmToD1wDAPBtLJbcFOvOw+Qu/5SopG2b9H1a7rbLjNx5fdB0tDPUO/GA9+2sy+TifTa5up3/MnF+bv6V+43nN9irIHm+MjsK/mbDtQhqjFLK2ZNo359XIcEHIasmtUJK1K+GwqN7acepI4v2Jqm1V28T3f6ICZxMMea0LhGUD6yDcxkeYITQIZ+2ivoyiePzr6GJ0MYov44vxq1du9f6D8dtf4hPDF3QZetL54AAKg1p2/s87cXzXN0dGj/rX/6MlW+2d+QglIT4UWFfdg2FLusTRlYLfdoIJnWAiV93bJhE9CYvYazbcbqMnfnsbtv1olrvfHU2mnxI/IsujlDJWF7YNFJJ89F2BCAnbq2Ey/bTpDYJRtebfnbd5e+gbKXBVVkqStEkQex28mWXaYn+vOqDYa7QVYTMeznfj72k7/NrO6REnvUp/dnl6VPwwquO1F+t4mDyngA7Y+5M4dpF7iBrpSWVh6qpS2ra7KRPevwEAAP//kxgmoL0IAAA=

- path: /etc/systemd/system/kubelet-monitor.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zSOQWrDMBBF9zrFXKBRewAtCs0FYroKWUzkbzRYlopm3Nq3L1jx7g3M+7z7dxF7uC9obPJjUktg6kyW2CgmxFlpXp/IMErgbIm4jNSgxs2UZKICjBjd52Ro4fV7UbRfiXD3ocPD3boSOP/xruc5IIaPd3fDwlKOiesmFnaou26Iw6H4VZvPNXL2Tym+d7wttYjVdtF0Fv4HAAD//zPpD7jRAAAA

- path: /etc/systemd/system/docker-monitor.timer
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/xTMsYrCQBAG4H6fYuDqHAdXpwkqWKVQsQgpxmQSB3dnZPZPkbcXX+AbbqYY00HqFPqGurVM0CJBeDJolsx7pdmnl0RT3BQetIQXquCA2kpwp+puxAsk6OGONFy/xph669xxkan9/ytqaThbBec8pjsbZO72tmwZ2mxV4hccqyD9HPtT+gQAAP//XmnFIZoAAAA=

- path: /etc/systemd/system/docker-monitor.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/zSOsWoDQQxE+/0KQWr7kg+4IpBLG/CRyrhQdGNW+E4bJDmx/z7gJd0bmDfM8dM0T+UNIa7fqc1Gps6UlZOkQi5BS5MLnCp4zUpsCzki2TNIz2TAgqW8nhM+9uo+4D8qKMe5w6kcujHy+sv3+I8zZHx5LgdsrPZYmG6a4x1RphtkfijDNXxYm/A6fKkN/cZua6bZfB+VpFmyGnznV0vdUJ6mj/fyFwAA//+bGk4y3wAAAA==

- path: /etc/systemd/system/kms.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4SQPW7jMBBGe55CF5DoclcAi13sFmltBykcFzT92RmIP8rMUI5y+sB20ggB0hB8Dw8zwOweM+ne/IMEplGpZOffK2NIYtZ4rcQQdyxhAHcCnijA/Dkp2GXopfDQlhwpo1PPZ6gxu8292pvtPMIJpTHCrCHqWZ2PFz+L2VJCqbq5ug2CW5n/bwg3dLYK2wNle9/acM3Ns2mats1Q91JEP3EqsSY4W0btr89CQ4Md6gGcoZB+wd/EItEGsIoNvr1+6ETBK6QLrP3PyWLk5NlGOtiL92dk7ZfilqfAXaLARcpJu1CSHX6JHZLYAfPka9R+WnWr7rcxu4cs6mPcmyefFce/s0s1KrVVwF/n/wgAAP//Goll9c8BAAA=

- path: /etc/apt/preferences
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=


- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    
        
- path: /etc/systemd/system/docker.service.d/clear_mount_propagation_flags.conf
  permissions: "0644"
  encoding: gzip
  owner: "root"
  content: !!binary |
    H4sIAAAAAAAA/4oOTi0qy0xOjeXyzS/NK3HLSUwvti3OSCxKTeFSdvV34wIEAAD//6XumLkhAAAA
        
    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
      ,"default-runtime": "nvidia",
      "runtimes": {
         "nvidia": {
             "path": "/usr/bin/nvidia-container-runtime",
             "runtimeArgs": []
        }
      }
    }







- path: /etc/systemd/system/nvidia-modprobe.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=Installs and loads Nvidia GPU kernel module
    [Service]
    Type=oneshot
    RemainAfterExit=true
    ExecStartPre=/bin/sh -c "dkms autoinstall --verbose"
    ExecStart=/bin/sh -c "nvidia-modprobe -u -c0"
    ExecStartPost=/bin/sh -c "sleep 10 && systemctl restart kubelet"
    [Install]
    WantedBy=multi-user.target


- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,accelerator=nvidia,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]