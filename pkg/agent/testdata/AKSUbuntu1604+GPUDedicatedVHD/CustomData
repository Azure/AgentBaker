[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUz07jPBTF93kKq2LxfQsnbalQEfIChsBUVAwiRSxKFTnOJbHq2JHvTWlnmHcf9Q9oSosGhJfX53fOkWXd8Z3VNAnOAZXXNWlnxVWTgQEKvjmb6+XkRlIZzzUSiqhBHxmnpIkybaPpRhoE4wT8TCuYBLeAJD0JaZ7kAoPYzrR3tgJLF9qAiIBUlMOjbAy98kmjFCDGc00JSWpQdHqHQTwHlSy9bjyIVV4msWSRqymSPxsPkXKWpLbg8cUqxHIPV01z7RmvWTSTPjI6e03+iFZZ/V4XrlhLP7IxO/ivco0l9swKDzV7aL1NemixZ/akGDf/M26AtdmEnTAqwbJ17ArnPNM236m5Ozhhj7q1r/3GppJT4FhKD7tuQfAGxCWJC1RkGH9iFijU9awXkqpTD+Q1YFf0/w0p5yFEV8m5ctaKztFhv/eJqErOU1zYNJNqalzxUX6VWgGiLCBVDkn02p+kssYjiX77ow9jQRdluPnFYaFSKj1g2RG99vHR1zy6ot857n7N43DzdNsufG0DGcnMADJOzMrlXzEaaa9U12+ltqnAa7UDvbMY2EPANodzsEszjuBn4LdurMuBG5mBQdE6+HV1dxYP41F6/eM8ToenZ/Ew+d3aAmaiy7YHzjQV8No0hbY81369Z5Y1vAUCjNaKtQD/Yg9e0i6Gp5fJvovb+HKQjOLbVZ894/vB6Hs6Oh1cj5IgGA8skjRmEtxLS5CfLUTVGNK8QfAhSV8A/QkAAP//lvMgPnQFAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
      ,"default-runtime": "nvidia",
      "runtimes": {
         "nvidia": {
             "path": "/usr/bin/nvidia-container-runtime",
             "runtimeArgs": []
        }
      }
    }







- path: /etc/systemd/system/nvidia-modprobe.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=Installs and loads Nvidia GPU kernel module
    [Service]
    Type=oneshot
    RemainAfterExit=true
    ExecStartPre=/bin/sh -c "dkms autoinstall --verbose"
    ExecStart=/bin/sh -c "nvidia-modprobe -u -c0"
    ExecStartPost=/bin/sh -c "sleep 10 && systemctl restart kubelet"
    [Install]
    WantedBy=multi-user.target


- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,accelerator=nvidia,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]