#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXFXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G2h2HLU0R+78z73oc6vXwRTbmIpkyXQYBpKSH8LK1KuSgg1ZiUWNWodJJxbZQ80iXkUsHXqRXGhkEQsNrMmZpdjs+4sPfjAoXp9uBHAADg05Fuxgz23pBuKbURbI69N6ANU2a8HQoh6Yc+9o5xk+RSJaw2SSXTmfbLCo36ns6zhOdJznhlFUL/+C2cwPEJsNpQlxFIH+5Y5bIyn3WxgGsfznO4uvI/AqMRhKWsshBuboZgShRe4c99zw2Q+OIi+e387DS5HJ99mnz9ffxrPPmyrKt6lMeKJzNdxGfx+HO8J2POnzAMRbbXrocg2HarbcJdySuE3GpUEN0yFVV8GmX1rIicbrXEahNVXBu9tp6ytES/w1Ra8ltsNt9HGd5GwlYVHL/v9IeQyVXJroZXl4wbh5CDRWGFTCPI3HUI/PFetXpdIdbwzj9nUmDw4JhKCjSJrZ0TbSWu9xz1qP/WPzrVUpFIa2prRpGZ1+60tEBDl1tH0pqlw1IBBy6AdDV+gz6QJl1v4/R7sFv2spbKwGn8y6fxJPl4cT75Ek9OR0IKLgwqlhp+i63aOQyUplLkvHCUUgaU5lKl6BczzFttc2SgOdDvwIU2rKra3RfQ/SlY1uQ9hwUYRCBbLsACCoU10BjCP7pXl/HN4Oh1b9G9wvhGqaPXPRL2oNNpLoT7S5nZlafTgalCNlvdnv3idttdDCAcKH5rHYbHt6JpplUC+it7K40NDCftYnMvPBctXPE9ptZgBo9sIRwMn6Pe9/5YgdVYvEUW6Q+Xgf4cI3I89BmlNSPybgi65Ln3ZfOf/wxfTdlAJZzWs2IwOK8Nl0IPBqNwPda/yygVkjYRVGEq53MUmXaEkh8fHvbg8c/6v6FYskBW/djY3XxHPBOY1oj9NV6H5MN12DI1fBqq2qpi+2X1P0fKF30gUP8+OIfR0dT0dxhwX0mJrQvFsp8obEwtp1vX7JxcTkAbQTO/DkBhDwaHI3Bo+/dPq/b7S5fyzn0R+dW1+bVemQt+PMh2WPO8cdZOp12ZtsH7K3lwIJUbPG4NMU9cw9tu2jY8WRthOzl7GZ9/DP4MAAD//wot+8SzCwAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5RQUYsTMRh8z68Ylmh3sXGtvh20crSLVLArbQr3IJQ0+9murps1+XJUPf+7tOfdHirFy1OSmW/mm8m3dZtvTdgjdx3n5nv0lFvXsqlb8iHvvLuuQ+3a52GPyQT5tfF543Z3zCYGJq96WuN2eDl5OhLF1VxvpuWsGMvXInwLTF8sN1CqdaozO/JQDQIbjgGf45Ya4v8xUDaQcpG7yL1Xudbv13osU2v40Qo32JOpoFq8epGJlb5c6o2evyvGMiW7d0jkrXyCG9jIUBUGwwHUR6jR/fAoE8VVMV3rebnYzNbLy+PlTkGmqUwrw4RnT0IGhd8vVSGRvWFygrMsE+LtqlxsVno5X7wZyxSfvh7X+yDw11HK+B3IIpH3hSdnmK57kOeMoEdyFq9Ohn8G/vfI4EdxqHnqKrqAJDtEeSr/AtJ1QxTeO38E/BDFgewsesO1a49f1c8BMnHb4YNKBB1qRh/4VwAAAP//Fa2f1cUCAAA=

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/+RZfW8aORr/n0/xdEAptB1Ie+ptL7f0LiWTFoVCNIHu7eWqkfEYsDLYI9tDwhK++8nzzrwkaXWtVrr9g039vPh5+dn+2dN81ptT1psjuWo0BgPnyrK/DAeWMxw708+X/R73VQ/9EQjSw5wpRBkRsoex6Qt+t+1KIjYUky5loe1kcGFNn2rK8Q1RoeV46Awm4/PhR+dsaPeNHlG4hxntMaK6rhHKPwzHsVB71cI5ZZHobPLbeDQ5PbsqKLj8lnkcudJoDOzhYDpKNfOKgmLlVehmEwZS9DyOkRdPORlPT4djyz6rnjlJ1c07vXh3Val9E8yJYEQRmdeefZiNpzPHtkbW6ZXVb7U9OXcE8QiSBEwBpuw0ptbIupzY0zPncjT7qIMtJ6eIR3wu1EEoJcPaTBvYI4gF/iBN6cw7px6R7Q7sGgAAYg2mWECrriaNfaNBmVTI81IndsAUXZPUR/ij/4sVP/P5NhJkxmOibrm4ufSCJWWpJV3A9TUYrd3Ymv42sS/ihPYG9MEIgWfA169/B7UirDjLqRYPxsNwfEEbOVEymiZXxBgc6dCSkg7GwzSi9Y1LBZh+hVEo16PTj/8Ol0drp/8VhXzlzOxRs/mit4cmzCQBvRxhHlBPUQbNJigOgqz5hgDyPMArJCS0jRdGBwJfC9WKwIIy5IHRM6LoiRJbvHadJVGOQmKuDV+/OYa3YJSj60XRxLHtDShFt4f7eyB3VEHLsm0n78GZDj9bk9k0X5Wkvt9Zmi9ja+r8uetTFeITi5QBLS3PT0RGtGyegbl4UqalFZQDfn71HDY43lRCiUICzLs/njadOSg7wCt+y8C0QXCuTvRPlc6au1rnl7dvD6VZwUug/Nmg+1+Vvmr3Oqx/dp4+WMGSmi5iWsGC9Ad1eN9okDslEFYXwZx8oAwJmjtj9NH5xbKvhpNxv/U6Gpp9sLT5qf277lG/9aZRCHBXOnD3qbOs4QU/Ya8f3xxKrnvRdPnNoeC5sC/kPaT7QlpHUwnE5IKLdd+Q990X90dmNEFchf29AaYpV/w20ySuydCaSN2FzeJJQf4nRZVpSiWob2K+9jkjTMn+X3SXDvkA5LgK4y4JaaMe84iqlWHlpWfpk8LKoeHT1idCO8mW62joTCeTUYIDH6lV3+it+Jr0Vom2mXKdXtQHe2xNrax60Ur0gxwlGa7RkkArcQ+t3affLy07bKLu3iG4jJae12gccJDE1oB+HwysRBX1WABWusFhq3yECdy8k13KQQQMTFMXyVzzgClQW5/055S5r6TA/XDCV65U8V/cV5QzGSqciNtSvBBXcIrkDaT0HkwMBvYLbe3t4h6+ivu1hyi/QvBhCTZx8knfDSiQxkRgPlD6am9YedXesPIe80Y8SQ5c/ynKnCIyLmga4YJG2DkImy7A1TcikY+SMCW2PqdMgWGAuYk8nYS/5XD+Hztdqtk31+ihNuW7hZOVn1l8V1GyYjzi54FyZJTmIprwItI/Za7+61JfsAvXpIh0fNM05R2sOZ2cTU4S1qP5DebMpXqZAF4RfAOcFU9n4AwTsC81QWJLAlRCfJV18+Bvt1ttglccKmOBe8CBAtM1ugaYizcdeN+H1790OnB0BNdgMn0NLB66BhTjDyFU5ho1c5Y91uMwPQeSm7Bjz8b6aI8PhPQKXVHVQmTpuRedI4fBF+ettotWxaFpDOcKZGtEfhOO69SNh9w9gLMadSPHSdHLu+J2lnCPauP8Fb4muRc1plpQxyngKDv3c7C7tCf/qgNdU3sI37w09hHIrVRkDch1OQO1QkoPuxQrpIgL861eU0pwD3wPMQKSA1UgVzzwXPZcwdzj+AY0ywJf8A2VlDPKlul0Vcxml9CTBNRZvHCUYGHfaJRta7lXBvTh59OPVsLDs7WQn7SeE6VMmy6cBaJeIAj89Rhea7Z9XHeO0zArHWzu6SmLQ5PtNoSbiaHomrjAAxWqU7aMjVu7CsM9bCiCMNCjo/w9PnveGky1/kfncjYaJdQdOvFxXpN4+MT47bmHZj8uyziq2kSjZ9DaXHP70MN5xCf0j8oj3uoO8zibDC6s2kZFWI8OsZ+L9gfxLNaV9fk+bMXoeYrnXCfjXj1uFZUwfB+e+WHpsgt7uJ/qq+ySqFCUFJHc+VyovCTyFTAcMYjouTlyZwfZQy8cPBOHYkdxx9W7OOm32vmwJZimvhEjBc93u65NfC6p4mK735/sdt0pWu73z+EeloL4YG6sZAcvHEqt+8rh7vWx+bevL2ukZvWwYyTztXa55PedcnJR7TSQHcxd0m/9I8+RNABSGTzrw3E1mYgWQqqZYy3pk3mxintD+zNq2Emk3W9X2HWgiTxFBEOKboi3hUASGJ5fvRQEuTAPFNwSQIJAIPV6Dqk3YttbtJX6aFMrKuGWixsJivNDwsITJFKWhXz9z6+F24XLS4yoNFC12FOaBLHv/cN+XM5IkULt88A2FyUIH74m5fbH18fwNnxRSu4iJctsfaXErrDQIrrcdpEinVet9opLpbeWziuoNozoVH7NgpHdQR5xSZg7qPaaBZrePZ4cqFRIqEGldVW0IRcLqdTTwy26zcI9hEMWbjO8TlbXEBBzoTpdzdtwIARhytvmcVHeEgqoqQBISaOM3yroJaWqllXhoaRU1YYDkJZrclSlVKzOUVXl3YNPifYjnxL5hghBXRJ/DhxwtqDL7MyOXqvPhyPr8nT6KfmO7PHAjX67eLHsur13x074cdBhRO+P2oeWRIhSPMCriG/knUXrHCMFv/4K1uQc3r+vUnKRQpIHApOT0CB8pz9JNw3k+95WT6ujj6c+gQXSR7A1OW/sG039v/8GAAD//xAQRfGTHwAA


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySTW8aPRSF9/4VVyMW77tw3K9dNAtoJikKSiOGKAtAyOO5wBUez8i+JqRN/3s1fKQlEKleHp/nnLO44wdHPBVXGIynhql26W0s0CKLr7UrqVXuNS+zDQUOqYrBK1sbbVVBTq32ViHGOfo1GZyKIQbWnlNtn/RzEJlbk69dhY6vyWKqkI0qca6j5Vc+j8ZgCNmGOGfNMaQfv3wW2QZN3mbde0y3fYUOS1B1w0r/iB6VqR1rcujDIeoiLM9w1aokD7IBtdZeWSpem//Faxy9t0UaSGgOY+j8V9XRMbzAwmMDk+Rt0ySBF3gyIO3/IC3CB5jCJfASHexqt7iUBbnyZOapcAlzSs6t38dUeoUyLLXH0zRxzEkVWhIL1oXFAJLB6TbDUuCzVmreWl2s0JM5QH+ody4GJgL2T0p0bZoM6Nfoj35cXaK0ukAb0qTz8/ahlw2y0ezu+1U2G3R72SD/lRwB6/QTHAu1jRXKxsYFOVmS3x1gO8M7ZAxq59gZwl9s59B2Peje5Oc+htlNPx9lw+2eM/Jjf/RtNur270a5EOO+C6ytnYpH7RjL3nNaRcskY0B/wdovkH8HAAD//yMq/TONAwAA




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";





    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
      ,"default-runtime": "nvidia",
      "runtimes": {
         "nvidia": {
             "path": "/usr/bin/nvidia-container-runtime",
             "runtimeArgs": []
        }
      }
    }





- path: /etc/systemd/system/nvidia-modprobe.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=Installs and loads Nvidia GPU kernel module
    [Service]
    Type=oneshot
    RemainAfterExit=true
    ExecStartPre=/bin/sh -c "dkms autoinstall --verbose"
    ExecStart=/bin/sh -c "nvidia-modprobe -u -c0"
    ExecStartPost=/bin/sh -c "sleep 10 && systemctl restart kubelet"
    [Install]
    WantedBy=multi-user.target


- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,accelerator=nvidia,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
