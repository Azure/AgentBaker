[base64(concat('#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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









- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/6SUz07jPBTF93kKq2LxfQsnbalQEfIChsBUVAwiRSxKFTnOJbHq2JHvTWlnmHcf9Q9oSosGhJfX53fOkWXd8Z3VNAnOAZXXNWlnxVWTgQEKvjmb6+XkRlIZzzUSiqhBHxmnpIkybaPpRhoE4wT8TCuYBLeAJD0JaZ7kAoPYzrR3tgJLF9qAiIBUlMOjbAy98kmjFCDGc00JSWpQdHqHQTwHlSy9bjyIVV4msWSRqymSPxsPkXKWpLbg8cUqxHIPV01z7RmvWTSTPjI6e03+iFZZ/V4XrlhLP7IxO/ivco0l9swKDzV7aL1NemixZ/akGDf/M26AtdmEnTAqwbJ17ArnPNM236m5Ozhhj7q1r/3GppJT4FhKD7tuQfAGxCWJC1RkGH9iFijU9awXkqpTD+Q1YFf0/w0p5yFEV8m5ctaKztFhv/eJqErOU1zYNJNqalzxUX6VWgGiLCBVDkn02p+kssYjiX77ow9jQRdluPnFYaFSKj1g2RG99vHR1zy6ot857n7N43DzdNsufG0DGcnMADJOzMrlXzEaaa9U12+ltqnAa7UDvbMY2EPANodzsEszjuBn4LdurMuBG5mBQdE6+HV1dxYP41F6/eM8ToenZ/Ew+d3aAmaiy7YHzjQV8No0hbY81369Z5Y1vAUCjNaKtQD/Yg9e0i6Gp5fJvovb+HKQjOLbVZ894/vB6Hs6Oh1cj5IgGA8skjRmEtxLS5CfLUTVGNK8QfAhSV8A/QkAAP//lvMgPnQFAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";




    
        
    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      },
      "data-root": "/mnt/containers"
    }








- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=',variables('labelResourceGroup'),'

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
'))]